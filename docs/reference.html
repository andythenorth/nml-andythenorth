<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>NML documentation</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<link rel="stylesheet" title="Standard Style" type="text/css" href="nml.css">
</head>
<body>

<h1>Contents</h1>
<ul>
<li><a href="#preface">Preface</a></li>
<li><a href="#installation">Getting started</a></li>
<li><a href="#graphic-files">Graphic files</a></li>
<li><a href="#structure">Language structure</a>
	<ul>
		<li><a href="#structure-blocks">Blocks</a></li>
		<li><a href="#structure-parameters">Parameters</a></li>
		<li><a href="#structure-features">Features</a></li>
	</ul>
</li>
<li><a href="#block-syntax">Block syntax</a>
<ul>
	<li><a href="#block-grf">GRF</a>
		<ul>
			<li><a href="#block-grf-settings">Settings</a></li>
		</ul>
	</li>
	<li><a href="#block-item">Item</a>
		<ul>
			<li><a href="#block-item-property">Property</a></li>
			<li><a href="#block-item-graphics">Graphics</a></li>
			<li><a href="#block-item-livery_override">Livery override</a></li>
		</ul>
	</li>
	<li><a href="#block-spriteblock">Spriteblock</a>
		<ul>
			<li><a href="#block-spriteblock-spriteset">Spriteset</a></li>
			<li><a href="#block-spriteblock-spritegroup">Spritegroup</a></li>
		</ul>
	</li>
	<li><a href="#block-switch">Switch</a></li>
	<li><a href="#block-randomswitch">Random switch</a></li>
	<li><a href="#block-template">Template</a></li>
	<li><a href="#block-cargotable">Cargotable</a></li>
	<li><a href="#block-if">If/else</a></li>
	<li><a href="#block-while">While</a></li>
	<li><a href="#block-error">Error</a></li>
	<li><a href="#block-deactivate">Deactivate</a></li>
	<li><a href="#block-replacement">Sprite replacement</a>
		<ul>
			<li><a href="#block-replacement-replace">Replace TTD sprites</a></li>
			<li><a href="#block-replacement-replacenew">Replace new sprites</a></li>
			<li><a href="#block-replacement-fontglpyh">Add font glpyhs</a></li>
		</ul>
	</li>
	<li><a href="#block-town_names">Town names</a>
		<ul>
			<li><a href="#block-town_names-parts">Town names parts</a></li>
		</ul>
	</li>
	<li><a href="#block-assignment">Parameter assignment</a></li>
	<li><a href="#block-sounds">Sound support</a></li>
	<li><a href="#block-basecost">Setting base costs</a></li>
</ul>
</li>
<li><a href="#units">Units</a></li>
<li><a href="#expressions">Expressions</a>
<ul>
	<li><a href="#elementary-values">Elementary values</a></li>
	<li><a href="#builtin-functions">Builtin functions</a></li>
</ul>
</li>
<li><a href="#language-files">Language files</a></li>
<li><a href="#properties">List of properties</a>
<ul>
	<li><a href="#property-vehicles">Properties common to all vehicle types</a></li>
	<li><a href="#property-trains">Trains</a></li>
	<li><a href="#property-roadvehs">Road vehicles</a></li>
	<li><a href="#property-ships">Ships</a></li>
	<li><a href="#property-planes">Planes</a></li>
	<li><a href="#property-stations">Stations</a></li>
	<li><a href="#property-canals">Canals</a></li>
	<li><a href="#property-bridges">Bridges</a></li>
	<li><a href="#property-houses">Houses</a></li>
	<li><a href="#property-industrytiles">Industry tiles</a></li>
	<li><a href="#property-industries">Industries</a></li>
	<li><a href="#property-cargos">Cargos</a></li>
	<li><a href="#property-airports">Airports</a></li>
	<li><a href="#property-objects">Objects</a></li>
	<li><a href="#property-railtypes">Railtypes</a></li>
	<li><a href="#property-airporttiles">Airport tiles</a></li>
	<li><a href="#property-snowline">Snowline</a></li>
</ul>
</li>
<li><a href="#vars">List of variables</a>
<ul>
	<li><a href="#vars-general">General</a></li>
	<li><a href="#vars-vehicles">Vehicles</a></li>
	<li><a href="#vars-stations">Stations</a></li>
	<li><a href="#vars-canals">Canals</a></li>
	<li><a href="#vars-bridges">Bridges</a></li>
	<li><a href="#vars-houses">Houses</a></li>
	<li><a href="#vars-industrytiles">Industry tiles</a></li>
	<li><a href="#vars-industries">Industries</a></li>
	<li><a href="#vars-cargos">Cargos</a></li>
	<li><a href="#vars-airports">Airports</a></li>
	<li><a href="#vars-objects">Objects</a></li>
	<li><a href="#vars-railtypes">Railtypes</a></li>
	<li><a href="#vars-airporttiles">Airport tiles</a></li>
</ul>
</li>
<li><a href="#warnings">Warnings</a></li>
<li><a href="#refs">Additional references</a>
<ul>
    <li><a href="#refs-animation-speed-values">Animation speed</a></li>
	<li><a href="#refs-default-industries">Default industries</a></li>
	<li><a href="#refs-default-industrytiles">Default industry tiles</a></li>
	<li><a href="#refs-basecost-table">Base cost table</a></li>
	<li><a href="#refs-sounds">List of sound effects</a></li>
	<li><a href="#refs-vehicleIDs">List of default vehicle IDs</a></li>
	<li><a href="#refs-houseProperties">List of default house properties</a></li>
	<li><a href="#refs-town-zones">List of town zones</a></li>
	<li><a href="#refs-tile-classes">List of tile classes</a></li>

</ul>
</li>
</ul>

<h1><a name="preface">Preface</a></h1>
<p>NewGRF files are files containing sprites and pseudo-sprites that can be
used to describe extra vehicles, industries, cargoes etc. for use in OpenTTD
and TTDPatch. The most used tool to encode/decode GRF files is
<a href="http://dev.openttdcoop.org/projects/grfcodec">GRFCodec</a>
(<a href="http://www.openttd.org/download-grfcodec">nightly download</a>).
GRFCodec can read NFO files and convert them to GRF files
(<a href="http://www.ttdpatch.net/grfcodec/grf.html">GRF file format</a>).
NFO is a low-level language that is tied to the GRF spec. It uses hexadecimal
numbers by default in most places and doesn't have any textual identifiers.
While the language is very powerful, it's also hard to learn. NML was started
mainly to provide a higher level language so coding GRF files will become
accessible to more people.</p>


<p><img alt="encoding process of nml" src="compileprocess.png"></p>

<h1><a name="installation">Getting started</a></h1>
<p>
NML is a a python-based compiler, capable to compile NML files (along with their
associated language, sound and graphic files) into grf and / or nfo files. In
order to work, it requires
<ul>
<li>python
<li>python image library
<li>ply (downloadable from <a href="http://www.dabeaz.com/ply/">http://www.dabeaz.com/ply/</a>)
</ul>

Examples for small NML "projects" are found in the <code class="ex">regression</code>
folder of NML. Generally it's assumed that the language files are in a separate
language folder <code class="ex">lang</code>, thus a project may look like this:
<pre>
mynewgrf.nml
graphics.png
funny_sound.wav

lang/default.lng
</pre>
</p><p>
The compiler itself <code class="ex">nmlc</code> is a command line tool and can
take a number of parameters, at least the nml filename which it shall process,
e.g. <code class="ex">nmlc mynewgrf.nml</code> will compile your nml file into
the grf-file <code class="ex">mynewgrf.grf</code>.
</p><p>
The full syntax is:
<pre class="code">
Usage: nmlc [options] &lt;filename&gt;
Where &lt;filename&gt; is the nml file to parse

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -d, --debug           write the AST to stdout
  -s, --stack           Dump stack when an error occurs
  --grf=&lt;file&gt;          write the resulting grf to &lt;file&gt;
  --nfo=&lt;file&gt;          write nfo output to &lt;file&gt;
  -c                    crop extraneous transparent blue from real sprites
  -u                    save uncompressed data in the grf file
  --nml=&lt;file&gt;          write optimized nml to &lt;file&gt;
  -o &lt;file&gt;, --output=&lt;file&gt;
                        write output(nfo/grf) to &lt;file&gt;
  -t &lt;file&gt;, --custom-tags=&lt;file&gt;
                        Load custom tags from &lt;file&gt; [default:
                        custom_tags.txt]
  -l &lt;dir&gt;, --lang-dir=&lt;dir&gt;
                        Load language files from directory &lt;dir&gt; [default:
                        lang]
</pre>

<h1><a name="graphic-files">Graphic files</a></h1>
<p>All graphic files must be in a format that can be loaded by the python imaging library
and they must have a valid palette. You can chose either the dos palette (recommended) or
the windows palette.</p>
<p>Palette files for several editors:
<ul>
<li><a href="ttd-newgrf-dos.gpl">Dos palette for GIMP</a></li>
<li><a href="ttd-newgrf-win.gpl">Windows palette for GIMP</a></li>
</ul>
</p>

<h1><a name="structure">Language structure</a></h1>
<h2><a name="structure-blocks">Blocks</a></h2>
<p>NML files are mainly composed from blocks. A block starts with the type of
the block, optional arguments and then the contents enclosed by curly braces.
Nearly all NML files will start with a <a href="#block-grf">grf-block</a>. The
grf-block takes no parameters and is one of the simplest blocks there is.
Following is an example grf-block.</p>
<pre class="code">grf {
	grfid : "AB\02\03";
	name : string(STR_GRF_NAME);
	desc : string(STR_GRF_DESCRIPTION);
	version: 10;
	min_compatible_version: 5;
}</pre>
<p>Let's look at this code line for line.</p>
<pre class="code">grf {</pre>
<p>This block is a grf-block. A grf-block has no parameters. The '{' is the
start of the block content.</p>
<pre class="code">	grfid : "AB\02\03";</pre>
<p>This line sets the grfid of the resulting grf. The value is the letters AB
followed by a byte with value 2 and then another one with value 3. The
semicolon marks the end of the statement.</p>
<pre class="code">	name : string(STR_GRF_NAME);</pre>
<p>The name of the grf. In NML nearly all strings are put in
<a href="#language-files">language files</a>. The format of the language files
is described in another section. For now just assume a string with the name
<code>STR_GRF_NAME</code> exists. To reference a string from the language file
you use <code>string(&lt;stringname&gt;)</code> where <code>&lt;stringname&gt;</code>
should be replaced by the actual name of the string.</p>
<pre class="code">	desc : string(STR_GRF_DESCRIPTION);</pre>
<p>This looks a lot like the previous line, only it sets the description
instead of the name.</p>
<pre class="code">	version : 10;</pre>
<p>For a new grf you should set the version to 1. Every time you release a new
version you should increase the version field by at least 1.</p>
<pre class="code">	min_compatible_version : 5;</pre>
<p>For a new grf you should set the min_compatible_version to 1. Every time you change
something in your newgrf which makes it incompatible to previous versions, you should
set min_compatible_version to the current version. Changes which make a NewGRF
incompatible to previous versions are most functional changes to existing behaviour, 
among others: changing vehicleIDs as well as some of their properties, changing
industry layouts, railtype compatibility, changing (de-)activation conditions... 
Adding new, additional things and expanding existing behaviour (without changing the
current one) is mostly considered safe).</p>
<pre class="code">}</pre>
<p>This marks the end of the last-opened block, in this case the grf-block.</p>

<h2><a name="structure-parameters">Parameters</a></h2>
<p>Blocks are not the only item in NML files, you can also do parameter
assignments. Each NewGRF has 128 parameters available, NML reserves the top 64
parameters for internal use. If a user sets parameters for your grf, they
start at parameter 0. Each parameter is available by using
<code>param[&lt;expression&gt;]</code>. You can set parameter number 4 to 3 by doing:
<pre class="code">param[4] = 3;</pre>

<h2><a name="structure-features">Features</a></h2>
<p>NewGRFs can be used to modify various types of items. Examples include trains,
stations and industries. Such a type of item is called a <em>feature</em>. The
following table contains a list of features and their identifiers. These
identifiers may be used to refer to the feature when needed.</p>
<table class="t">
<tr><th>Name<th>Description
<tr><td>FEAT_TRAINS<td>Trains
<tr><td>FEAT_ROADVEHS<td>Road vehicles
<tr><td>FEAT_SHIPS<td>Ships
<tr><td>FEAT_AIRCRAFT<td>Aircraft
<tr><td>FEAT_STATIONS<td>Train stations
<tr><td>FEAT_CANALS<td>Canals
<tr><td>FEAT_BRIDGES<td>Bridges
<tr><td>FEAT_HOUSES<td>Town houses
<tr><td>FEAT_GLOBALVARS<td>Various global variables
<tr><td>FEAT_INDUSTRYTILES<td>Industry tiles (visible part of industries)
<tr><td>FEAT_INDUSTRIES<td>Industries
<tr><td>FEAT_CARGOS<td>Cargo types
<tr><td>FEAT_SOUNDEFFECTS<td>Sound effects
<tr><td>FEAT_AIRPORTS<td>Airports
<tr><td>FEAT_SIGNALS<td>Train signals
<tr><td>FEAT_OBJECTS<td>Non-interactive objects (example: lighthouse)
<tr><td>FEAT_RAILTYPES<td>Rail types
<tr><td>FEAT_AIRPORTTILES<td>Airport tiles (visible part of airports)
</table>

<h1><a name="block-syntax">Block syntax</a></h1>
<p>In the next sections you'll often see a word enclosed by the less-than and
greater-than symbols. These words should not be written literally, instead
they reference to another block/item you should put there. The following words
will be used:</p>

<dl>
<dt>&lt;literal-string&gt;</dt>
<dd>A string enclosed by quotes, for example <code>"this is a literal string"</code></dd>

<dt>&lt;string&gt;</dt>
<dd>A string defined in the language file, for example <code>string(STR_GRF_NAME)</code></dd>

<dt>&lt;expression&gt;</dt>
<dd>An expression, this can be a computation or single value constructed using &lt;number&gt;, &lt;float&gt;,
&lt;parameter&gt;, &lt;variable&gt;, &lt;function-call&gt;</dd>

<dt>&lt;ID&gt;</dt>
<dd>The name of an item or block. IDs should start with a letter or underscore.
The rest of the ID may consist of letters, underscores and numbers.</dd>

</dl>
<p>If something is enclosed by square brackets [] it's optional.</p>


<h2><a name="block-grf">GRF</a></h2>
<pre class="exl">grf {
	grfid: &lt;literal-string&gt;;
	name: &lt;string&gt;;
	desc: &lt;string&gt;;
	version: &lt;expression&gt;;
	min_compatible_version: &lt;expression&gt;;
	&lt;settings&gt;
}</pre>
<p>Example:</p>
<pre class="code">grf {
	grfid: "AB\03\02";
	name: string(STR_GRF_NAME);
	desc: string(STR_GRF_DESC);
	version: 1;
	min_compatible_version: 1;
}</pre>

<h3><a name="block-grf-settings">Settings</a></h3>
<p>As part of the grf block you can specify some settings that the user will be able to
change. These can for example be used to disable parts of your NewGRF or to change between
multiple graphics in case that's not possible at runtime.</p>

<h2><a name="block-item">Item</a></h2>
<pre class="exl">item (&lt;expression&gt; [, &lt;ID&gt; [, &lt;expression&gt;]]) {
	(&lt;property-block&gt;|&lt;graphics-block&gt;|&lt;livery_override-block&gt;)+
}</pre>
<p>The first argument is the feature of the item, the second (optional) argument
is the name used to identify the object throughout the NML file and the
third (optional) argument is the numerical id you want to
use for this item.
Example:</p>
<pre class="code">item (FEAT_ROADVEHS, hereford_tram) {
	property {
		name:               string(STR_NAME_HEREFORD_TRAM);
		climates_available: ALL_CLIMATES;
		introduction_date:  date(1940,1,1);
		speed:              60 km/h;
	}
}</pre>

<h3><a name="block-item-property">Property</a></h3>
<pre class="exl">property {
	(&lt;ID&gt;: (&lt;string&gt;|(&lt;expression&gt; [&lt;unit&gt;]));)+
}</pre>
<p>This one looks a lot more complicated than it actually is. A property-block
contains one or more assignments. Each assignment starts with the name of the
property that is changed followed by a colon. After the colon follows the value
and you end the line with a semicolon. The type of the value depends on the
property, some properties require a string as value and some an expression.
For some properties you can optionally specify a unit that is used to convert
the value to the unit that is written to the output file. You can only use
a unit if the expression is constant. <a href="#units">List of valid units</a></p>

<h3><a name="block-item-graphics">Graphics</a></h3>

<h3><a name="block-item-livery_override">Livery override</a></h3>
<div class="img_right">
<img title="Livery override: different engines, same cars, different car sprites" alt="LiveryOverride example" src="LiveryOverride.png" hspace="5" vspace="5"><br>
Same cars, different engine, different car sprites
</div>
<p>A livery override block offers the option to change the look and
behaviour of a wagon depending on the engine it is attached to.
E.g. passenger wagons could adapt their livery to match the engine,
to make the consist look like a multiple-unit train. The spritegroup
needs to be defined before it can be used in a livery override. A livery
override block is always part of the engine definition and looks like</p>
<pre class="exl">
livery_override (vehicleID) {
	spritegroup_name
}
</pre>
<p>Concerning this example it is assumed that it is preceeded by the graphics
definitions given as example in the <a href="#block-item-graphics">graphics definition</a>
and that a vehicleID "passenger_wagon" is defined. The passenger wagon will get a
different look (spritegroup "turbotrain_passenger_group") in this example when attached
to the engine "turbotrain". Is the wagon attached to another engine, it might use its
default graphics which are assigned elsewhere to "passenger_wagon".</p>
<pre class="code">
// Turbotrain engine:
item(FEAT_TRAINS, turbotrain, 20) {
	property { // Properties for the engine
		sprite_id:                    SPRITE_ID_NEW_TRAIN;    // We have our own sprites
		misc_flags:                   bitmask(TRAIN_FLAG_MU); // We use special sprites for passenger wagons
	}
	graphics {
		turbotrain_engine_group;                              // Graphics for the engine
	}
	livery_override(passenger_wagon) {
		turbotrain_passenger_group;                           // Graphics for "passenger_wagon" when attached to the engine
	}
}
</pre>
<h2><a name="block-spriteblock">Spriteblock</a></h2><p>In general the layout for defining graphics is like</p>
<pre class="code">
spriteblock(FEATURE) {
	spriteset (SPRITESET_NAME, graphics_file) {
		[left_X, upper_Y, width, height, offset_X, offset_Y]
		...
	}
	spritegroup spritegroup_name {
		loading: spriteset_name
		loaded: spriteset_name
	}
}
</pre>
<p>An example which defines two graphics for a train engine:</p>
<pre class="code">
spriteblock(FEAT_TRAINS) {
	spriteset(turbotrain_engine_set, "sprites/pcx/opengfx_trains_start.pcx") {
		[142,112,  8,22,   -3,-10]
		[158,112, 21,15,  -14, -7]
		[190,112, 31,12,  -16, -8]
		[238,112, 21,16,   -6, -7]
		[270,112,  8,24,   -3,-10]
		[286,112, 21,16,  -15, -6]
		[318,112, 32,12,  -16, -8]
		[366,112, 21,15,   -6, -7]
	}
	spritegroup turbotrain_engine_group {
		loading: turbotrain_engine_set;
		loaded: turbotrain_engine_set;
	}
}
spriteblock(FEAT_TRAINS) {
	spriteset(turbotrain_passenger_set, "sprites/pcx/opengfx_trains_start.pcx") {
		[142,139,  8,21,   -3,-10]
		[158,139, 20,15,  -13, -7]
		[190,139, 28,10,  -12, -6]
		[238,139, 20,16,   -6, -7]
		[270,139,  8,21,   -3,-10]
		[286,139, 20,15,  -15, -6]
		[318,139, 28,10,  -16, -6]
		[366,139, 20,16,   -6, -7]
	}
	spritegroup turbotrain_passenger_group {
		loading: turbotrain_passenger_set;
		loaded: turbotrain_passenger_set;
	}
}
</pre>
<h3><a name="block-spriteblock-spriteset">Spriteset</a></h3>
<h3><a name="block-spriteblock-spritegroup">Spritegroup</a></h3>

<h2><a name="block-switch">Switch</a></h2>
<pre class="exl">switch (&lt;expression&gt;, (SELF|PARENT), &lt;ID&gt;, &lt;expression&gt;) {
	(&lt;range&gt;: &lt;return_value&gt;;)*
	&lt;return_value&gt;;
}</pre>
<p>The four parameters have the following meaning:</p>
<ul>
<li><code>&lt;expression&gt;</code>: The feature for which this switch is used
(see <a href="#structure-features">Features</a>).</li>
<li><code>(SELF|PARENT)</code>Which variables to use. SELF uses the variables
of the item itself, while PARENT uses the variables of a related object. This
related object differs per feature, refer to the table below.</li>
<li><code>&lt;ID&gt;</code>Name of this switch block. This (unique) name can
be used to refer to the block from other switch- or graphics-blocks.</li>
<li><code>&lt;expression&gt;</code>The expression that will be evaluated
to make a decision. This expression may contain <a href="#vars">Variables</a>.</li>
</ul>
<table class="t">
<tr><th>Feature<th>SELF<th>PARENT
<tr><td>FEAT_TRAINS<td>Engine / wagon / articulated part itself<td>Front engine
<tr><td>FEAT_ROADVEHS<td>Road vehicle part<td>First road vehicle part
<tr><td>FEAT_SHIPS<td>Ship<td>Ship
<tr><td>FEAT_AIRCRAFT<td>Aircraft (a)<td>Aircraft
<tr><td>FEAT_STATIONS<td>Station tile<td>Town
<tr><td>FEAT_CANALS<td>Canal tile<td>N/A
<tr><td>FEAT_BRIDGES<td>Bridge<td>Town
<tr><td>FEAT_HOUSES<td>House tile<td>Town
<tr><td>FEAT_GLOBALVARS<td>N/A<td>N/A
<tr><td>FEAT_INDUSTRYTILES<td>Industry tile<td>Industry to which the tile belongs
<tr><td>FEAT_INDUSTRIES<td>Industry<td>Town
<tr><td>FEAT_CARGOS<td>Cargo type<td>N/A
<tr><td>FEAT_SOUNDEFFECTS<td>N/A<td>N/A
<tr><td>FEAT_AIRPORTS<td>Airport<td>N/A
<tr><td>FEAT_SIGNALS<td>N/A<td>N/A
<tr><td>FEAT_OBJECTS<td>Object tile<td>Town
<tr><td>FEAT_RAILTYPES<td>Rail tile<td>N/A
<tr><td>FEAT_AIRPORTTILES<td>Airport tile<td>Airport
</table>
<p>(a) Except for mail capacity callbacks, where it refers to the mail compartment.
To refer to the aircraft itself, use PARENT scope there.</p>

<p><code>&lt;range&gt;</code> can either be a single number or two numbers separated by
two dots. In the first case, the range matches if the result of the computation is
equal to the supplied value. If a range (<code>a .. b</code>) is supplied, it matches
if the computed result is within that range. If several lines of the switch block match
the expression being tested the first applicable result will be returned.</p>
<p>Possible values for <code>&lt;return_value&gt;</code>e are the following:</p>
<ul>
<li><code>&lt;ID&gt;;</code> chains to the (random-)switch or spritegroup with the given ID.</li>
<li><code>return (&lt;expression&gt;|&lt;string&gt;);</code> returns the given expression or
string as a result of the callback.</li>
<li><code>return;</code> returns the computed value directly as a callback result. Note that
the maximum value for callback results is 32511 (0x7EFF).</li>
<li><code>CB_FAILED;</code> stops processing and returns an explicit failure code.</li>
</ul>

<p>Some example code is given below. Note that the code does not have an actual
meaning, it is merely meant to demonstrate all the various options available.</p>
<pre class="code">
switch (FEAT_TRAINS, PARENT, some_vehicle_switch, (position_in_consist + param[1]) % 4) {
	0..2: return string(STRING_FOO_BAR); //return a text message
	3: return; //return the computed value
	5...300: return 42; //42 is always a good answer
	400: other_switch; //chain to some other switch block
	CB_FAILED; //return a failure result
}
</pre>
<h2><a name="block-randomswitch">Random switch</a></h2>
<p>While a <a href="#block-switch">switch-block</a> allows making a predictable
decision, a random_switch allows a randomised choice between several options.</p>
<pre class="exl">random_switch (&lt;feature&gt;, &lt;type&gt;, &lt;ID&gt;[, &lt;triggers&gt;]) {
	(&lt;independent&gt;: &lt;other_random&gt;;)*
	(&lt;dependent&gt;: &lt;other_random&gt;;)*
	(&lt;probability&gt;: &lt;return_value&gt;;)+
}</pre>
<p>The first parameter <code>&lt;feature&gt;</code> specifies the feature to use.
<code>&lt;type&gt;</code>, the second parameter, is used to define what random data
is used. The supported combinations are listed in the following table. The amount
of random data is given in the third column. The maximum number of possible
combinations is equal to 2^x, with x being the number of random bits. The last
column specifies the object of which the random data is used.</p>

<table class="t">
<tr><th>Feature</th><th>Type</th><th># of random bits</th><th>Random data used</th></tr>
<tr><td>Vehicles</td><td>SELF</td><td>8</td><td>Vehicle itself</td></tr>
<tr><td>Vehicles</td><td>PARENT</td><td>8</td><td>Leading engine</td></tr>
<tr><td>Vehicles</td><td>BACKWARD_SELF(x)</td><td>8</td><td>Count x vehicles backward (away from the engine), starting at the vehicle itself (a)</td></tr>
<tr><td>Vehicles</td><td>FORWARD_SELF(x)</td><td>8</td><td>Count x vehicles forward (towards the engine), starting at the vehicle itself (a)</td></tr>
<tr><td>Vehicles</td><td>BACKWARD_ENGINE(x)</td><td>8</td><td>Count x vehicles backward, starting at the leading engine (a)</td></tr>
<tr><td>Vehicles</td><td>BACKWARD_SAMEID(x)</td><td>8</td><td>Count x vehicles backward, starting at the first vehicle in the chain with the same ID (a)</td></tr>
<tr><td>Stations / airport tiles</td><td>SELF</td><td>16</td><td>Station</td></tr>
<tr><td>Stations / airport tiles</td><td>TILE</td><td>4</td><td>Specific station tile</td></tr>
<tr><td>Canals</td><td>SELF</td><td>8</td><td>Canal tile</td></tr>
<tr><td>Houses</td><td>SELF</td><td>8</td><td>House tile (b)</td></tr>
<tr><td>Industry tiles</td><td>SELF</td><td>8</td><td>Industry tile</td></tr>
<tr><td>Industry tiles</td><td>PARENT</td><td>16</td><td>Industry as a whole</td></tr>
<tr><td>Industries</td><td>SELF</td><td>16</td><td>Industry (same as above)</td></tr>
<tr><td>Objects</td><td>SELF</td><td>8</td><td>Object tile (different per tile)</td></tr>
<tr><td>Rail types</td><td>SELF</td><td>2</td><td>Rail tile (pseudo-random, based on location)</td></tr>
</table>
<p>(a) x can be any expression. It can even contain variables, in that case
the variables of the vehicle itself are used.</p>
<p>(b) The random bits are initially the same for all tiles of a multi-tile house.</p>
<p>The third parameter <code>&lt;ID&gt;</code> can be used to refer to this
block from other (random-)switch-blocks. The last parameter
<code>&lt;triggers&gt;</code> is optional and allows re-randomizing when
certain conditions occur. The events and accompanying trigger names are
given in the following tables. To re-randomize graphics when any of a set of
events occurs, use <code>bitmask(TRIGGER_A, TRIGGER_B, .. , TRIGGER_Z)</code>
To re-randomize only when <em>all</em> of the events have occured, add <code>TRIGGER_ALL_NEEDED</code>
to the list of used triggers, e.g. use <code>bitmask(TRIGGER_ALL_NEEDED, TRIGGER_A, ...)</code></p>

<table class="t">
<caption>Vehicle triggers</caption>
<tr><th>Trigger</th><th>Event</th></tr>
<tr><td>TRIGGER_VEHICLE_NEW_LOAD</td><td>Vehicle gets new load of cargo (only after it was empty)</td></tr>
<tr><td>TRIGGER_VEHICLE_SERVICE</td><td>Vehicle enters a depot and is serviced</td></tr>
<tr><td>TRIGGER_VEHICLE_UNLOAD_ALL</td><td>The consist has unloaded all cargo (use with type 'SELF')</td></tr>
<tr><td>TRIGGER_VEHICLE_ANY_LOAD</td><td>Any vehicle of the consist receives cargo (use with type 'SELF')</td></tr>
<tr><td>TRIGGER_VEHICLE_32_CALLBACK</td><td>32-day callback returned 1</td></tr>
</table>
<p>To re-randomize when the consist has been emptied and then receives new cargo, use
<code>bitmask(TRIGGER_VEHICLE_UNLOAD_ALL, TRIGGER_VEHICLE_ANY_LOAD, TRIGGER_ALL_NEEDED)</code></p>

<table class="t">
<caption>Station triggers</caption>
<tr><th>Trigger</th><th>Event</th></tr>
<tr><td>TRIGGER_STATION_NEW_CARGO</td><td>New cargo waiting</td></tr>
<tr><td>TRIGGER_STATION_NO_MORE_CARGO</td><td>No more cargo waiting</td></tr>
<tr><td>TRIGGER_STATION_TRAIN_ARRIVES</td><td>Train arrives (starts loading/unloading)</td></tr>
<tr><td>TRIGGER_STATION_TRAIN_LEAVES</td><td>Train leaves (done loading/unloading)</td></tr>
<tr><td>TRIGGER_STATION_TRAIN_LOADS_UNLOADS</td><td>Train loads/unloads cargo</td></tr>
<tr><td>TRIGGER_STATION_TRAIN_RESERVES</td><td>Train reserves platform using PBS</td></tr>
</table>
<p>The last four triggers in the table only trigger on the platform on which they occur.</p>

<table class="t">
<caption>House triggers</caption>
<tr><th>Trigger</th><th>Event</th></tr>
<tr><td>TRIGGER_HOUSE_TILELOOP</td><td>The house tile is processed in the periodic tile-processing loop</td></tr>
<tr><td>TRIGGER_HOUSE_TOP_TILELOOP</td><td>The top tile of the house is processed in the periodic tile-processing loop</td></tr>
</table>
<p>Using <code>TRIGGER_HOUSE_TOP_TILELOOP</code>, it is possible to re-randomize
the whole building as one unit. All tiles of a multi-tile house will get the same
new random data.</p>

<table class="t">
<caption>Industry tile triggers</caption>
<tr><th>Trigger</th><th>Event</th></tr>
<tr><td>TRIGGER_INDUSTRYTILE_TILELOOP</td><td>The industry tile is processed in the periodic tile-processing loop </td></tr>
<tr><td>TRIGGER_INDUSTRYTILE_256_TICKS</td><td>Triggers simultaneously for all tiles of the industry every 256 ticks.
If the industry is a primary one, output cargo is generated at the same time.</td></tr>
<tr><td>TRIGGER_INDUSTRYTILE_CARGO_DELIVERY</td><td>Cargo is delivered to the industry. If the industry is a processing one, output cargo is generated at the same time.</td></tr>
</table>

<p><code>&lt;independent&gt;: &lt;other_random&gt;;</code> makes sure that this
random_switch block and <code>&lt;other_random&gt;</code> use different
(non-intersecting) random data. This allows making multiple randomized
decisions that are independent of each other.</p>
<p><code>&lt;dependent&gt;: &lt;other_random&gt;;</code>, on the other hand,
lets this random_switch block and <code>&lt;other_random&gt;</code> use the same
random data. To make this possible, it should not require more random data
(i.e. have a higher sum of probabilities) than the block it is dependent on.</p>
<p>Both of these options require enough random data to be available. Also, the
combination must make sense. For example, if A is dependent on B and B is
dependent on C, then A cannot be independent of C.</p>
<p>Following this, there is a list of options, one of which will be chosen
randomly. The syntax is <code>&lt;probability&gt;: &lt;return_value&gt;;</code>.
The relative probability that this option will be chosen is given by
<code>&lt;probability&gt;</code>. The chance is equal to the probability divided
by the sum of all probabilities. If this sum is not equal to a power of two (2,
4, 8, 16, ...), then rounding is done and the probabilities may be inexact. For
information about <code>&lt;return_value&gt;</code>, see the
<a href="#block-switch">switch-block</a>. Let's conclude with an example:
<pre class="code">random_switch (FEAT_TRAINS, SELF, random_42, bitmask(TRIGGER_VEHICLE_UNLOAD_ALL, TRIGGER_VEHICLE_ANY_LOAD, TRIGGER_ALL_NEEDED)) {
    /* re-randomize when vehicle has been emptied and then received new cargo */
    independent: random_43; // decision should be independent from random_43, which is defined elsewhere
    6: group_open;          // 6/11 chance to display open wagon
    3: group_closed;        // 3/11 chance to display closed wagon (with cover)
    2: group_halfopen;      // 2/11 chance to display a half-covered wagon
}</pre>

<h2><a name="block-template">Template</a></h2>

<h2><a name="block-cargotable">Cargotable</a></h2>
<pre class="exl">cargotable {
	ID [, ID]*
}</pre>
<p>The cargotable is a list of 4-byte long IDs. For example:</p>
<pre class="code">cargotable {
	PASS, MAIL, GOOD, COAL
}</pre>

<h2><a name="block-if">If/else</a></h2>
<pre class="exl">
if (expression) {
	block;
} else {
	block;
}
</pre>
<p>For example:</p>
<pre class="code">
if (param[1] == 1) {
	param[2] = 3
} else {
	param[2] = 5
}
</pre>

<h2><a name="block-while">While</a></h2>

<h2><a name="block-error">Error</a></h2>
<p>The general form of an error statement is:</p>
<pre class="exl">
error(level, message[, extra_text[, parameter1[, parameter2]]])
</pre>
<p>where level is the severity of the message and one of <code>NOTICE, WARNING, ERROR, FATAL</code>. The message can be either a custom
defined string which can contain up to two parameters or it can be one of the pre-defined strings which already have translations. The first
{STRING}-code will always be replaced by the NewGRF name. The second {STRING}-code will be replaced by the value of 'extra_text'.
<table class="t">
<tr><th>name <th>actual text<th>Contents of extra_text
<tr><td>REQUIRES_TTDPATCH <td>"{STRING} requires at least TTDPatch version {STRING}"<td>version string
<tr><td>REQUIRES_DOS_WINDOWS <td>"{STRING} is for the {STRING} version of TTD."<td>[DOS | Windows]
Palette type
<tr><td>USED_WITH <td>"{STRING} is designed to be used with {STRING}"<td>switchname + value, e.g. "multihead 0". This is designed to be used
for incompatible settings that you can check via ttdpatch_flags.
<tr><td>INVALID_PARAMETER <td>"Invalid parameter for {STRING}: parameter {STRING} ({PARAM})"<td>extra_text should be the parameter number written
out as string. {PARAM} is replaced by parameter1.
filled in.
<tr><td>MUST_LOAD_BEFORE <td>"{STRING} must be loaded before {STRING}."<td>NewGRF name
<tr><td>MUST_LOAD_AFTER <td>"{STRING} must be loaded after {STRING}."<td>NewGRF name
<tr><td>REQUIRES_OPENTTD <td>"{STRING} requires OpenTTD version {STRING} or better."<td>version string
<tr><td>./.<td>(user-defined string)<td>The message-string can use the code {STRING} up to 2 times, the first usage will be replaced by the
NewGRF name and the second usage by 'extra_text'. After 2 {STRING}-codes you can include up to 2 {PARAM}-codes that will be replaced
by the contents of parameter1 and parameter2.
</table>

For example:
<pre class="code">
error(NOTICE, USED_WITH, STR_REGRESSION_CARE);
error(FATAL, STR_REGRESSION_ERROR, STR_ANSWER, 14, param[1] + 12 * param[2]);
</pre>
<h2><a name="block-deactivate">Deactivate</a></h2>

<h2><a name="block-replacement">Sprite replacement</a></h2>
<p>This section covers the three available methods to replace sprites.
Which one to use depends on the type of sprites you want to replace. The following
sections will outline the detailed functionality of these blocks and when to use them.</p>

<h3><a name="block-replacement-replace">Replace TTD sprites</a></h3>
<p>Using a <code>replace</code> block, it is possible to replace TTD's built-in sprites.
The syntax is as follows:</p>
<pre class="exl">replace(&lt;sprite-id&gt;, &lt;image-file&gt;) {
	&lt;real-sprites&gt;...
}</pre>
<p>The first parameter <code>&lt;sprite-id&gt;</code> indicates the sprite number of the
first sprite to replace. Sprite numbers are equal to the sprite numbers in the base graphics file. The
<a href="http://mz.openttdcoop.org/opengfx/authors/script.php?feature=spritesbyfile&amp;q=ogfx1_base">
OpenGFX author overview</a> can be used as a reference to look up these sprite numbers.
The second parameter <code>&lt;image-file&gt;</code> specifies the image file that contains
the new sprites. A series of real sprites has to be specified between the curly braces
(<code>{</code> and <code>}</code>). The first sprite in this list replaces the sprite with id
<code>sprite-id</code>, the second replaces <code>sprite-id + 1</code> and so on.
Sprite templates can be used as well. For example:</p>
<pre class="code">
// Rail overlays for crossings
replace (1005, "src/gfx/rails_overlays.png") {
		[ 20,198, 40,21, -20,  5]
		[ 71,198, 40,21, -20,  5]
		[117,198, 40, 7, -20,  5]
		[165,198, 40, 7, -20, 21]
		[216,198, 12,19,  10,  5]
		[248,198, 12,19, -24, 11]
}
</pre>

<h3><a name="block-replacement-replacenew">Replace new sprites</a></h3>
<p>Over time, several features have been added to TTDPatch and OpenTTD that require new
sprites. As these sprites are not present in the original base graphics, they cannot
be replaced using a normal <code>replace</code> block. Instead, a <code>replacenew</code>
block has to be used. The semantics are like this:</p>
<pre class="exl">replacenew(&lt;type&gt;, &lt;image-file&gt;[, &lt;offset&gt;]) {
	&lt;real-sprites&gt;...
}</pre>
<p>The <code>&lt;type&gt;</code> parameter indicates the type of sprites that will
be replaced. It should be an identifier from the first column of the following table.</p>

<!-- This table could use some information regarding versioning, descriptions
 and references to which sprites are actually needed. However this is a lot
 of work (even TTDP wiki doesn't list all info) and this is not really a
 high priority job -->
<table class="t">
	<tr><th>Type</th><th>Number of sprites</th></tr>
	<tr><td>PRE_SIGNAL</td><td>48</td></tr>
	<tr><td>PRE_SIGNAL_SEMAPHORE</td><td>112</td></tr>
	<tr><td>PRE_SIGNAL_SEMAPHORE_PBS</td><td>240</td></tr>
	<tr><td>CATENARY</td><td>48</td></tr>
	<tr><td>FOUNDATIONS_SLOPES</td><td>74</td></tr>
	<tr><td>FOUNDATIONS_SLOPES_HALFTILES</td><td>90</td></tr>
	<tr><td>TTDP_GUI_25</td><td>73</td></tr>
	<tr><td>TTDP_GUI</td><td>93</td></tr>
	<tr><td>CANALS</td><td>65</td></tr>
	<tr><td>ONE_WAY_ROAD</td><td>6</td></tr>
	<tr><td>COLORMAP_2CC</td><td>256</td></tr>
	<tr><td>TRAMWAY</td><td>113</td></tr>
	<tr><td>SNOWY_TEMPERATE_TREES</td><td>133</td></tr>
	<tr><td>COAST_TILES</td><td>16</td></tr>
	<tr><td>COAST_TILES_BASEGFX</td><td>10</td></tr>
	<tr><td>COAST_TILES_DIAGONAL</td><td>18</td></tr>
	<tr><td>NEW_SIGNALS</td><td>any (a)</td></tr>
	<tr><td>SLOPED_RAILS</td><td>12</td></tr>
	<tr><td>AIRPORTS</td><td>15</td></tr>
	<tr><td>ROAD_STOPS</td><td>8</td></tr>
	<tr><td>AQUEDUCTS</td><td>8</td></tr>
	<tr><td>AUTORAIL</td><td>55</td></tr>
	<tr><td>FLAGS</td><td>36 (b)</td></tr>
	<tr><td>OTTD_GUI</td><td>154 (b)</td></tr>
	<tr><td>AIRPORT_PREVIEW</td><td>9 (b)</td></tr>
</table>

<p>(a) Any number of sprites is allowed here, however both OpenTTD and
NML don't (yet) support the other features required to use these sprites.</p>

<p>(b) Any number of sprites can be specified up to the stated maximum.
Furthermore the <code>offset</code> variable can be used, see below for
more info.</p>

<p>The amount of sprites has to be
equal to the number given in the table, except in the cases of (a) and (b).
Having less sprites results in an error. Having more sprites is allowed
to provide future compatibility, but a warning will be issued.</p>

<p>Parameter two <code>&lt;image-file&gt;</code> is a literal (quoted) string
that specifies the file where the sprites are located.</p>
<p>Parameter <code>&lt;offset&gt;</code> is optional and has a default value of 0.
Values greater than zero are only allowed in the case of the sprite types marked
with (b). Setting this value sets an offset into the block of sprites, so only a
subset of the sprites (starting at <code>offset</code>) will be replaced.</p>

<h3><a name="block-replacement-fontglpyh">Add font glpyhs</a></h3>
<p>A <code>font-glpyh</code> block makes it possible to provide sprites
for glyphs that don't have sprites in normal TTD. The syntax is as follows:</p>

<pre class="exl">font_glpyh (&lt;font-size&gt;, &lt;base-char&gt;, &lt;image-file&gt;) {
	&lt;real-sprites&gt;...
}</pre>

<p>The first parameter (<code>&lt;font-size&gt;</code>) should be an identifier
of the font size to use. Valid values are <code>SMALL</code>, <code>NORMAL</code>
and <code>LARGE</code>.</p>
<p>The second parameter (<code>&lt;base-char&gt;</code>) is the number
corresponding to the first character to provide a sprite for. Valid values are
all unicode code points in the Basic Multilingual Plane (0-0xFFFF)</p>
<p>Parameter three <code>&lt;image-file&gt;</code> is a literal (quoted) string
that specifies the file where the sprites are located.</p>
<p><code>&lt;real-sprites&gt;</code> should be a list of real sprites. The first
real sprite will be used for the character with code <code>base-char;</code>, the
second for <code>base-char + 1</code> and so on. These sprites should only use
color palette indices 0 (transparent), 1 (foreground), and 2 (shadow). If the
shadow color is used, sprite compression flag 'TILE' must NOT be set.</p>

<h2><a name="block-town_names">Town names</a></h2>
<p>To define randomly generated town names, the <tt>town_names</tt> block should
be used. Such blocks can be used in two ways, as generator of (partial) town
names for another block, or as top-level town names block, a starting point
of town names in the
grf file. You must have at least one starting point, but you can have more
than one.</p>
<p>The general syntax of a town names block is:</p>
<pre class="exl">town_names[(&lt;name&gt;)] {
	[styles : &lt;string&gt;]
	&lt;part&gt; &lt;part&gt; ....
}</pre>
<p>The optional <code>&lt;name&gt;</code> defines the name of the block. Such a
name is used to refer to this block from another town names block.
For top-level town names blocks, it is often left out. Note that in that case,
you must also leave out the parentheses.</p>
<p>The optional <code>&lt;string&gt;</code> defines how the town names are
called in the menu. It may only be defined in a top-names block. To make the
name available in all languages, it is probably a good idea to at least define
a menu name for the generic language.</p>

<h3><a name="block-town_names-parts">Town names parts</a></h3>
<p>A <code>town_names</code> block has one or more <code>&lt;part&gt;</code>s.
Each part defines a piece of a town name. All pieces together form the name
generated by the block.</p>
<p>An example of a part is:</p>
<pre class="code">{
	text("name1", 1),
	text("name2", 2),
	town_names(othernames, 3)
}</pre>
<p>The simplest form is just a list of <code>text(...)</code>entries.
Each entry contains a possible value of piece, and a probability of picking
that name. The <code>town_names(&lt;name&gt;, &lt;probability&gt;)</code>calls
a previous <code>town_names</code> block (called 'othernames' in the example),
and returns the value generated there.
A part should have at least one. At least up to 255 entries will always work.
If a part contains even more entries, NML tries to make it fit by creating
sub-blocks. If that fails, you will get an error.</p>
<p>The numbers are the probabilities. In the example, the sum of all values is
6, which means that <code>name1</code> is picked with 1/6 chance,
<code>name2</code> has a 2/6 chance, and a name generated from the previous
<code>town_names</code> block has a 3/6 chance.</p>


<h2><a name="block-assignment">Parameter assignment</a></h2>
<pre class="exl">param[&lt;expression&gt;] = &lt;expression&gt;;</pre>
<p>Set a parameter to the given expression. Neither of the two expressions has
to be constant, the following is perfectly valid:</p>
<pre class="code">param[param[2] + 1] = param[3] * param[4];</pre>

<h2><a name="block-sounds">Sound support</a></h2>
<p>Sounds are supported by means of the <code>sounds</code> block.
An example of a sounds block that defines two new sounds is:</p>
<pre class="code">sounds {
        load_soundfile("whistle.wav");
        import_sound(0x87654321, 3);
}</pre>
<p>The block starts with the keyword <code>sounds</code>, followed by one
or more sound definitions. A sound definition either loads a sound file (like
the <code>load_soundfile("whistle.wav");</code> which includes the
<i>whistle.wav</i> file), or it refers to a sound from another NewGRF file
(like the <code>import_sound(0x87654321, 3);</code> which imports the fourth
sound (index 3) from the NewGRF file with ID <code>0x87654321</code>). Importing sounds
does not make copies of the data, thus saving memory space.</p>
<p>You can have at most one <code>sounds</code> block in a NewGRF file. When
using a sound from a sound block, the first sound gets number <code>73</code>,
the second sound gets number <code>74</code>, and so on. Note that this is
different from the numbering that you use when importing a sound from
another NewGRF, as counting starts at <code>0</code> in that case.</p>
<p>All loaded sound files must be
8-bit mono sound files in WAV format, PCM encoding. There are two allowed
frequencies: 11025 Hz and 22050 Hz. Due to some limitations of the NewGRF format,
the file size cannot exceed 64KB.</p>
<h2><a name="block-basecost">Setting base costs</a></h2>
<p>A number of base costs define how much everything costs in (O)TTD(P).
Each cost in-game is determined by a fixed factor multiplied by a base cost.
Setting base cost to 0 leaves this cost unchanged. Incrementing it by one
doubles the cost, so e.g. a setting of 3 results in a cost that is 8x higher.
Setting a negative value reduces the cost in the same manner, e.g. a value of
-4 results in 1/16th of the cost. The minimum and maximum values are -8 (1/256th)
and 16 (65536x), respectively. Some example code:</p>
<pre class="code">
basecost {
	PR_BUILD_TUNNEL: 2;   // tunnel cost x4
	PR_BUILD_BRIDGE: -3;  // bridge cost x1/8
	PR_RUNNING: param[1]; // all running costs are set by the factor in grf parameter 1
	param[2]: param[3];   // base cost with the number given by param 2 is set to the factor in param 3.
}
</pre>
<p><a href="#refs-basecost-table">This table</a> lists all base costs that can be set. They can be referred to
using either the number in the first or the identifier in the second column.
Using an identifier from the third column, it is possible to set an entire
category of base costs at once.</p>
<p>Recent OpenTTD versions have added a number of base costs. To keep
compatibility with earlier grfs, a number of 'old' base costs override
the 'new' ones if the 'new' costs are not set separately. These cases are
marked in the table. To avoid this behaviour always set the 'new' cost to 0
if you are changing the 'old' cost but want to keep the new one unchanged.
Note that this may override other grfs that change base costs, but this is
currently unavoidable.</p>

<h1><a name="units">Units</a></h1>

<h1><a name="expressions">Expressions</a></h1>

<h2><a name="elementary-values">Elementary values</a></h2>
Elementary values in expressions are
<table class="t">
<tr><th>Element<th>Syntax (Python RE)<th>Description
<tr><td>Decimal number<td>[0-9]+<td>one or more digits
<tr><td>Hexadecimal number<td>0x[0-9A-Fa-f]+<td>"0x" followed by one or more hexadecimal digits
<tr><td>Floating point number<td>[0-9]+\.[0-9]+<td>a decimal number, a dot, and another decimal number
<tr><td>Identifier<td>[a-zA-Z_][a-zA-Z0-9_]*<td>a letter or underscore, optionally followed by more letters, digits, or underscore characters
<tr><td>Unit<td>nfo|mph|km/h|m/s|hp|ton<td>One of the strings "nfo", "mph", "km/h", "m/s", "hp", or "ton" (without quotes)
<tr><td>String<td>"([^"\\]|\\.)*"<td>A double quote character, followed by zero or more characters, ending with another double quote character. A character in-between is any single character except a double quote or a back-slash ("\"). It can also be "\\", "\n", "\t", or "\[0-9A-Fa-f][0-9A-Fa-f]" (a back-slash followed by exactly two hexadecimal digits).
</table>

<h2><a name="builtin-functions">Builtin functions</a></h2>
Available builtin functions are
<table class="t">
<tr><th>Function<th>Description
<tr><td>min(<i>v1</i>, <i>v2</i>)<td>Return the smallest value
<tr><td>max(<i>v1</i>, <i>v2</i>)<td>Return the biggest value
<tr><td>date(<i>year</i>, <i>month</i>, <i>day</i>)<td>If all values are constants, returns
the number of days since year 0. If the year is a variable, the month and day should be 1.
<tr><td>day_of_year(<i>month</i>, <i>day</i>)<td>Return the day of the year
since January 1st. Both values must be compile-time constants.
<tr><td>bitmask(<i>bitpos1</i>, ...)<td>Compose an integer by switching the bits at the given positions on.
<tr><td>STORE_TEMP(<i>value</i>, <i>address</i>)<td>Store value in temporary storage
<tr><td>STORE_PERM(<i>value</i>, <i>address</i>)<td>Store value in permanent storage
<tr><td>LOAD_TEMP(<i>address</i>)<td>Get value from temporary storage
<tr><td>LOAD_PERM(<i>address</i>)<td>Get value from permanent storage
<tr><td>hasbit(<i>value</i>, <i>bit_num</i>)<td>Test whether a bit in a value is on
<tr><td>version_openttd(<i>major</i>, <i>minor</i>, <i>revision</i>[, <i>build</i>])<td>Return
the constant representing an OpenTTD version
<tr><td>cargotype_available(<i>cargotype</i>)<td>Check if a certain cargo type is available in
this game. <i>cargotype</i> must be a literal string of length 4.
<tr><td>railtype_available(<i>railtype</i>)<td>Check if a railtype is available in this game. 
<i>railtype</i> must be a literal string of length 4.
<tr><td>grf_current_status(<i>grfid[, mask]</i>)<td>1 if the given GRF is currently active 0, otherwise.
If <i>mask</i> is set, only the bits set in the mask will be tested. Both parameters must be a literal string
of length 4.
<tr><td>grf_future_status(<i>grfid[, mask]</i>)<td>Same as above, but tests whether the grf
will become active instead of whether it's currently active.
</table>


<h1><a name="language-files">Language files</a></h1>
Language files are usually found in the <code>lang</code> sub-folder of the
project, but the place NML looks for the language files can be changed via command
line parameter to any directory desired:
<pre class="code">
nmlc -l path/to/lang-dir path/to/nml-source-file.nml
nmlc --lang-dir=path/to/lang-dir path/to/nml-source-file.nml
</pre>
Language files MUST have the extension <code>.lng</code><br>
The language files themselves follow a certain structure:
<pre class="exl">
lang: &lt;number&gt;
&lt;string-name&gt;                                                   :&lt;text&gt;
&lt;string-name&gt;                                                   :&lt;text&gt;
...
</pre>
where the first line must give the language code for the language this file
describes (see below). The following lines each describe a string. The translated
string follows immediately the colon. A NewGRF project must contain a language file
for the default fallback language 7F.

Example for a valid language file:
<pre class="code">
lang: 7F
STR_GRF_NAME                                                    :Swedish Rails {VERSION}
STR_GRF_DESCRIPTION                                             :Swedish rails are a graphical extension for rails.
</pre>

Strings may contain a number of special string codes which control how the string is being printed or which values
to insert into the string. Custom replacements can be stored in the file <code>custom_tags.txt</code> (for example a
newgrf version which is written by your build script).

Valid language IDs are
<table class="t">
<tr><th>ID <th>language
<tr><td>7F<td>default fallback
<tr><td>00<td>American
<tr><td>01<td>English
<tr><td>02<td>German
<tr><td>03<td>French
<tr><td>04<td>Spanish
<tr><td>05<td>Esperanto
<tr><td>06<td>Ido
<tr><td>07<td>Russian
<tr><td>08<td>Irish
<tr><td>09<td>Maltese
<tr><td>0A<td>Tamil
<tr><td>0B<td>Chuvash
<tr><td>0C<td>Chinese (Traditional)
<tr><td>0D<td>Serbian
<tr><td>0E<td>Norwegian (Nynorsk)
<tr><td>0F<td>Welsh
<tr><td>10<td>Belarusian
<tr><td>11<td>Marathi
<tr><td>14<td>Arabic (Egypt)
<tr><td>15<td>Czech
<tr><td>16<td>Slovak
<tr><td>18<td>Bulgarian
<tr><td>1B<td>Afrikaans
<tr><td>1E<td>Greek
<tr><td>1F<td>Dutch
<tr><td>21<td>Basque
<tr><td>22<td>Catalan
<tr><td>23<td>Luxembourgish
<tr><td>24<td>Hungarian
<tr><td>26<td>Macedonian
<tr><td>27<td>Italian
<tr><td>28<td>Romanian
<tr><td>29<td>Icelandic
<tr><td>2A<td>Latvian
<tr><td>2B<td>Lithuanian
<tr><td>2C<td>Slovenian
<tr><td>2D<td>Danish
<tr><td>2E<td>Swedish
<tr><td>2F<td>Norwegian (Bokmal)
<tr><td>30<td>Polish
<tr><td>31<td>Galician
<tr><td>32<td>Frisian
<tr><td>33<td>Ukrainian
<tr><td>34<td>Estonian
<tr><td>35<td>Finnish
<tr><td>36<td>Portuguese
<tr><td>37<td>Brazilian Portuguese
<tr><td>38<td>Croatian
<tr><td>39<td>Japanese
<tr><td>3A<td>Korean
<tr><td>3C<td>Malay
<tr><td>3E<td>Turkish
<tr><td>42<td>Thai
<tr><td>54<td>Vietnamese
<tr><td>56<td>Chinese (Simplified)
<tr><td>5A<td>Indonesian
<tr><td>5C<td>Urdu
<tr><td>61<td>Hebrew
<tr><td>62<td>Persian
</table>

<h1><a name="properties">List of properties</a></h1>
<h2><a name="property-vehicles">Properties common to all vehicle types</a></h2>
<table class="t">
<tr><td> name</td><td>                         (string)</td><td>for example <code>string(STR_NAME_HEREFORD_TRAM)</code></td></tr>
<tr><td> climates_available</td><td>           BitMask(CLIMATE_XXX, CLIMATE_YYY, ...)</td><td>XXX = [TEMPERATE | ARCTIC | TROPICAL | TOYLAND], alternatively NO_CLIMATE or ALL_CLIMATES.
To make a vehicle available in all climates except toyland you could use: ALL_CLIMATES &amp; ~bitmask(CLIMATE_TOYLAND).</td></tr>
<tr><td> introduction_date</td><td>            date(yyyy,mm,dd)</td><td>Valid range for yyyy is 0 ... 5000000. In TTDPatch, dates after 2044 will be limited to 2044. Unless the engine is introduced within two years after game-start (always 1920 in TTDPatch), a random number of days between 0 and 511 will be added to this.</td></tr>
<tr><td> model_life</td><td>                   0 ... 254 (years) or VEHICLE_NEVER_EXPIRES</td><td>Number of years a model is "supported" by the manufacturer, before reliability starts dropping.</td></tr>
<tr><td> retire_early</td><td>                 (years)</td><td>Number of years before <i>model_life</i> when no new vehicles can be bought. May be negative.</td></tr>
<tr><td> vehicle_life</td><td>                 0 ... 255 (years)</td><td>Age of a vehicle when it gets old.</td></tr>
<tr><td> reliability_decay</td><td>            0 ... 255</td><td>Default vehicles use 20. The higher the value the faster reliability decays, the more frequent service is needed. 0 means reliability never decreases if the vehicle is not too old</td></tr>
<tr><td> refittable_cargo_classes</td><td>     bit set of <a href="#property-cargos">cargo classes</a></td><td></td></tr>
<tr><td> non_refittable_cargo_classes</td><td> bit set of <a href="#property-cargos">cargo classes</a></td><td></td></tr>
<tr><td> refittable_cargo_types</td><td>       bit mask of entries into the cargo translation table</td><td>example: <code>bitmask(PASS, MAIL, GOOD)</code></td></tr>
<tr><td> loading_speed <td>                    0 ... 255 (cargo units)</td><td>Units of cargo loaded per tick. Default vehicles use 5 for trains and road vehicles, 10 for ships and 20 for aircraft</td></tr>
<tr><td> cost_factor</td><td>                  0 ... 255</td><td>multiplicator to the base purchase cost</td></tr>
<tr><td> running_cost_factor</td><td>          0 ... 255</td><td>multiplicator to the base running costs</td></tr>
</table>

<p>To determine whether your vehicle can be refitted to a certain cargo, OpenTTD uses the following table:</p>
<table class="t">
<tr><th>Cargo matches refittable_cargo_classes</th><th>Cargo matches non_refittable_cargo_classes</th><th>Cargo in refittable_cargo_types</th><th>Result</th></tr>
<tr><td>No</td><td>Doesn't matter</td><td>No</td><td>Not refittable</td></tr>
<tr><td>No</td><td>Doesn't matter</td><td>Yes</td><td>Refittable</td></tr>
<tr><td>Yes</td><td>No</td><td>No</td><td>Refittable</td></tr>
<tr><td>Yes</td><td>No</td><td>Yes</td><td>Not refittable</td></tr>
<tr><td>Yes</td><td>Yes</td><td>No</td><td>Not refittable</td></tr>
<tr><td>Yes</td><td>Yes</td><td>Yes</td><td>Refittable</td></tr>
</table>
<p>You should use refittable_cargo_classes and non_refittable_cargo_classes to
decide to which cargos your vehicle is refittable, and only use
refittable_cargo_types as a last resort to include/exclude some cargo type.</p>
<p>Note that the default cargo cannot be selected explicitly. Instead it is
automatically set to use the first refittable cargo, whenever one of the
refitting properties is set.</p>

<h2><a name="property-trains">Trains</a></h2>
<table class="t">
<tr><th> property</th><th>value range</th><th>comment</th></tr>

<!-- properties common to all vehicle types but with different value ranges or meaning -->
<tr><td> sprite_id</td><td>SPRITE_ID_NEW_TRAIN</td><td>defines base set spriteID to use or this constant</td></tr>
<tr><td> speed<td> 0 ... 65000 (speed units)<td>Max speed for engines, speed limit for wagons
<tr><td> misc_flags</td><td> bitmask(TRAIN_FLAG_XXX, ...)</td><td>XXX=[TILT | 2CC | MU]</td></tr>
<tr><td> refit_cost<td> <td> in 50% units of the purchase price cost base
<tr><td> callback_flags<td> bitmask(VEH_CBF_XXX, ...)<td>XXX = [WAGON_POWER | WAGON_LENGTH | REFITTED_CAPACITY | LOAD_AMOUNT | REFITTED_CAPACITY | CARGO_SUFFIX | COLOR_MAPPING | SOUND_EFFECT]

<!-- properties not present for all vehicle types -->
<tr><td> track_type<td>item from railtypetable<td>Default railtype table: RAIL, ELRL, MONO, MGLV.
Note that ELRL is mapped to MONO. If you install a railtypetable yourself you'll always get the
railtype you specified. If you want a vehicle to run on electric rail and you don't have a
railtypetable, make sure that you set <tt>engine_class</tt> to ENGINE_CLASS_ELECTRIC in addition
to setting <tt>track_type</tt> to ELRL.
<tr><td> ai_special_flag<td> [AI_FLAG_PASSENGER | AI_FLAG_CARGO]<td> Set to AI_FLAG_PASSENGER to tell computer players that it's an engine that should only be used for passenger service.
<tr><td> power<td> 0 ... 65000 hp (power units) <td>
<tr><td> running_cost_base</td><td>RUNNING_COST_XXX</td><td>XXX = [STEAM | DIESEL | ELECTRIC | ROADVEH | NONE]</td></tr>
<tr><td> dual_headed<td> [0 | 1]<td>1 = dual_headed, otherwise normal engine
<tr><td> cargo_capacity<td> (cargo units)<td>
<tr><td> weight<td> 0 .. 1279 t (mass units)<td>
<tr><td> ai_engine_rank<td> 0 ... 255<td>TTDPatch only: Higher values make the engine for the TTDPatch AI more attractive
<tr><td> engine_class<td> ENGINE_CLASS_XXX<td>XXX=[STEAM | DIESEL | ELECTRIC | MONORAIL | MAGLEV]
<tr><td> extra_power_per_wagon<td> 0 ... 65000 hp (power units) <td>
<tr><td> tractive_effort_coefficient<td> 0 ... 1<td>
<tr><td> air_drag_coefficient</td><td>   0 ... 1</td><td></td></tr>
<tr><td> shorten_vehicle<td> SHORTEN_TO_XXX<td>XXX=[8_8 | 7_8 | ... | 1_8]
<tr><td> visual_effect<td> VISUAL_EFFECT_XXX<td>XXX=[DEFAULT | STEAM | DIESEL | ELECTRIC | DISABLE]
<tr><td> extra_weight_per_wagon<td> 0 ... 255 t (mass units)<td>
<tr><td> <a name="bitmask_vehicle_info">bitmask_vehicle_info</a><td> 8-bit bitmask<td>Used for obtaining <a href="#bitmask_consist_info">bitmask_consist_info</a>
<tr><td> <td> <td>
</table>

<h2><a name="property-roadvehs">Road vehicles</a></h2>
<table class="t">
<tr><th> property</th><th>value range</th><th>comment</th></tr>
<!-- properties common to all vehicle types but with different value ranges or meaning -->
<tr><td> sprite_id</td><td>                    SPRITE_ID_NEW_ROADVEH</td><td>define base set spriteID to replace or this constant</td></tr>
<tr><td> speed</td><td>                        0 ... 514km/h (speed units)</td><td></td></tr>
<tr><td> misc_flags</td><td>                   bitmask(ROADVEH_FLAG_XXX, ...)</td><td>The following flags are defined: ROADVEH_FLAG_TRAM, ROADVEH_FLAG_2CC. 
You can combine them with the binary or-operator (|). Use 0 if you don't want to set any of these flags.</td></tr>
<tr><td> refit_costs<td> <td> in 25% units of the purchase price cost base
<tr><td> callback_flags<td> bitmask(VEH_CBF_XXX, ...)<td>XXX = [LOAD_AMOUNT | REFITTED_CAPACITY | CARGO_SUFFIX | COLOR_MAPPING | SOUND_EFFECT]

<!-- properties not present for all vehicle types -->
<tr><td> running_cost_base</td><td>            RUNNING_COST_XXX</td><td>XXX = [STEAM | DIESEL | ELECTRIC | ROADVEH | NONE]</td></tr>
<tr><td> power</td><td>                        0 ... 2550hp (power units)</td><td></td></tr>
<tr><td> weight</td><td>                       0 ... 63.75ton (mass units)</td><td></td></tr>
<tr><td> tractive_effort_coefficient</td><td>  0 ... 1</td><td></td></tr>
<tr><td> air_drag_coefficient</td><td>         0 ... 1</td><td></td></tr>
<tr><td> cargo_capacity</td><td>               0 ... 255</td><td></td></tr>
<tr><td> sound_effect</td><td>                 SOUND_XXX</td><td>See available <a href="#refs-sounds">sound effects</a>.</td></tr>

</table>
<h2><a name="property-ships">Ships</a></h2>
<table class="t">
<tr><th> property</th><th>value range</th><th>comment</th></tr>
<!-- properties common to all vehicle types but with different value ranges or meaning -->
<tr><td> sprite_id <td> SPRITE_ID_NEW_SHIP <td> define base set spriteID to replace or this constant
<tr><td> speed</td><td> 0 ... 127 km/h (speed units)</td><td></td></tr>
<tr><td> misc_flags <td> SHIP_FLAG_2CC <td> No other flags defined
<tr><td> refit_costs<td> <td> in 1/32 of the default refit cost base
<tr><td> callback_flags<td> bitmask(VEH_CBF_XXX, ...)<td>XXX = [LOAD_AMOUNT | REFITTED_CAPACITY | CARGO_SUFFIX | COLOR_MAPPING | SOUND_EFFECT]

<!-- properties not present for all vehicle types -->
<tr><td> is_refittable <td> [0 | 1] <td>0=false, 1=true. Note: if you do not set this property to 1 than refittable_cargo_classes /
non_refittable_cargo_classes have no effect.
<tr><td> cargo_capacity<td> (units of cargo)<td>
<tr><td> sound_effect<td> SOUND_XXX<td>See available <a href="#refs-sounds">sound effects</a>.
<tr><td> ocean_speed_fraction<td>0 ... 1<td> fraction of base speed on ocean tiles
<tr><td> canal_speed_fraction<td>0 ... 1<td> fraction of base speed on canal tiles

</table>
<h2><a name="property-planes">Planes</a></h2>
<table class="t">
<tr><th> property</th><th>value range</th><th>comment</th></tr>
<!-- properties common to all vehicle types but with different value ranges or meaning -->
<tr><td> sprite_id <td> SPRITE_ID_NEW_AIRCRAFT <td> define base set spriteID to replace or this constant
<tr><td> speed<td> 0 .. 3280 km/h (speed units)<td>
<tr><td> misc_flags<td> bitmask(AIRCRAFT_FLAG_2CC)<td>
<tr><td> refit_cost<td> <td> in 1/32 of default refit cost base
<tr><td> callback_flags<td> bitmask(VEH_CBF_XXX, ...)<td>XXX = [LOAD_AMOUNT | REFITTED_CAPACITY | CARGO_SUFFIX | COLOR_MAPPING | SOUND_EFFECT]

<!-- properties not present for all vehicle types -->
<tr><td> is_helicopter<td> AIRCRAFT_TYPE_XXX<td>XXX=[NORMAL | HELICOPTER]
<tr><td> is_large<td> AIRCRAFT_TYPE_XXX<td>XXX=[SMALL | LARGE]. Set to AIRCRAFT_TYPE_SMALL for helicopters.
<tr><td> acceleration<td> <td>
<tr><td> passenger_capacity<td> (units of cargo)<td>
<tr><td> mail_capacity<td> (units of cargo)<td>
<tr><td> sound_effect<td> SOUND_XXX<td>See available <a href="#refs-sounds">sound effects</a>.
</table>
<h2><a name="property-stations">Stations</a></h2>
<h2><a name="property-canals">Canals</a></h2>
<h2><a name="property-bridges">Bridges</a></h2>
<h2><a name="property-houses">Houses</a></h2>
<table class="t">
<tr><th>property <th>value range <th>comment
<tr><td>name<td>string<td>	for example string(STR_NAME_EIFFEL_TOWER)
<tr><td>substitute<td>0 ... 109<td>number of the default house which can replace this one, if this house is not available for some reason.
<tr><td>override<td>0 ... 109<td>id of the default house which this house replaces. This is ignored, if the default house has already been overridden. You can define this property multiple times
<tr><td>building_flags<td><td>HOUSE_FLAG_XX with XX = [SIZE_1x1, SIZE_2x1, SIZE_1x2, SIZE_2x2, NOT_SLOPED, ANIMATE, CHURCH, STADIUM, ONLY_SE, PROTECTED, SYNC_CALLBACK, RANDOM_ANIMATION]
<tr><td>population<td>0 ... 255<td>number of inhabitants the building adds to the town, if present
<tr><td>mail_multiplier<td>0 ... 255<td>
<tr><td>pax_acceptance<td>0 ... 1<td>Can be increased in steps of 0.125. A station accepts a cargo, if the combined acceptance of all houses in range is at least 1.
<tr><td>mail_acceptance<td>0 ... 1<td>
<tr><td>cargo_acceptance<td>0 ... 1<td>Like passenger acceptance. Additionally flag can be added which defines one of the cargo type: HOUSE_ACCEPT_GOODS, HOUSE_ACCEPT_FOOD, HOUSE_ACCEPT_FIZZY_DRINKS; FIZZY_DRINKS has in toyland the same meaning as FOOD in other climates.
<tr><td>accepted_cargo<td><td>up to three cargo labels, e.g. MAIL, PASS, COAL
<tr><td>local_authority_impact<td>0 ... 65525<td>amount of happiness increase of the city council, if the building is destroyed
<tr><td>removal_cost_multiplier<td>0 ... 255<td>
<tr><td>probability<td>0 ... 16<td>Probability with respect to the default houses (=1). Mind that these are relative probabilities with respect to all houses defined. If all probabilities are defined as 16, they'll all have the same probability as if they had all a probability of 1.
<tr><td>years_available<td>array of two int<td>[xx, yy] where xx and yy indicate the introduction year and the last year the building can be built
<tr><td>minimum_lifetime<td>0 ... 255<td>number of years the building will remain at least
<tr><td>availability_mask<td>[BitMask(<a href="#refs-town-zones">town zones</a>), BitMask(CLIMATE_XXX, ...)]<td>An array with two bitmasks, the first
bitmask is a mask of town zones where this house is available. The second bitmask is a mask of climates combined with the special value ABOVE_SNOWLINE
which you need to set for houses available in the arctic climate above the snowline.<br>
Examples:
<ul>
<li>Available in the centre town zone in toyland only: <code>[bitmask(TOWNZONE_CENTRE), bitmask(CLIMATE_TOYLAND)]</code></li>
<li>Available in all town zones in the arctic climate both above and below the snowline: <code>[ALL_TOWNZONES, bitmask(CLIMATE_ARCTIC, ABOVE_SNOWLINE)]</code></li>
<li>Available everywhere except on the town edge: <code>[ALL_TOWNZONES &amp; ~bitmask(TOWNZONE_EDGE), ALL_CLIMATES | bitmask(ABOVE_SNOWLINE)</code></li>
</ul>
<tr><td>callback_flags<td><td>bitmask(HOUSE_CBF_XX) with XX = [BUILD, ANIM_NEXT_FRAME, ANIM_STARTSTOP, CONSTRUCTION_ANIM, COLOUR, CARGO_AMOUNT_ACCEPT, ANIM_FRAME_LENGTH, DESTRUCTION, CARGO_TYPE_ACCEPT, CARGO_PRODUCTION, PROTECTION, FOUNDATION, AUTOSLOPE]
<tr><td>random_colours<td>array of 4, each 0 ... 15<td>colour values in an array.
<tr><td>refresh_multiplier<td>0 ... 63<td>Defines the frequency with which the tile will be re-randomized which has an impact for random animation.
<tr><td>animation_frames<td>0 ... 128<td>number of animation frames
<tr><td>animation_speed<td>2 ... 16<td>Speed of animation, see <a href=#refs-animation-speed-values>animation speed table</a> for the meaning of the values.
<tr><td>building_class<td>0 .. 255<td>An arbitrary number. You can check for the presence of buildings of the same class when building new buildings or using animation
</table>

<h2><a name="property-industrytiles">Industry tiles</a></h2>
<table class="t">
<tr><th>property</th><th>value range</th><th>comment</th></tr>
<tr><td>substitute</td><td><a href="#refs-default-industrytiles">0..174</a></td><td>number of the default industry tile which can replace this one, if this tile is not available for some reason.</td></tr>
<tr><td>override</td><td><a href="#refs-default-industrytiles">0..174</a></td><td>id of the default industry tile which this tile replaces. This is ignored, if the default industry tile has already been overridden. You can define this property multiple times</td></tr>
<tr><td>accepted_cargos</td><td>Array with up to 3 [cargo_id, amount]-pairs.</td><td>The cargos that are accepted by this tile. CargoID is a cargo type from 
your cargo translation table, amount is the acceptance of the given cargo in 1/8 units.<br>
Example: to make a tile accept both COAL and IORE you could use this: <code>accepted_cargos: [[COAL, 8], [IORE, 8]];</code><br>
Example: for a tile that doesn't any cargos at all you'd use: <code>accepted_cargos: [];</code></td></tr>
<tr><td>land_shape_flags</td><td>bitmask(<a href="#land-shape-flags">Land shape flags</a>)</td><td></td></tr>
<tr><td>callback_flags</td><td>bitmask(INDTILE_CBF_XXX, INDTILE_CBF_YYY)</td><td>XXX = ANIM_NEXT_FRAME | ANIM_SPEED | CARGO_AMOUNT_ACCEPT
| CARGO_TYPE_ACCEPT | SLOPE_IS_SUITABLE | FOUNDATIONS | AUTOSLOPE</td></tr>
<tr><td>animation_info</td><td></td><td></td></tr>
<tr><td>animation_speed</td><td>0..16</td><td>Speed of animation, see <a href=#refs-animation-speed-values>animation speed table</a> for the meaning of the values.</td></tr>
<tr><td>triggers_anim_start_stop</td><td>bitmask(<a href="#industrytiles-animation-control">Animation control callback triggers</a>)</td><td></td></tr>
<tr><td>special_flags</td><td>0..1</td><td>Set to 1 if INDTILE_CB_ANIM_NEXT_FRAME needs random bits</td></tr>
</table>

<h3><a name="land-shape-flags">Land shape flags</a></h3>
<table class="t">
<tr><th>Flag</th><th>Meaning</th></tr>
<tr><td>LSF_CANNOT_LOWER_NW_EDGE</td><td>North-west edge cannot be lowered</td></tr>
<tr><td>LSF_CANNOT_LOWER_NE_EDGE</td><td>North-east edge cannot be lowered</td></tr>
<tr><td>LSF_CANNOT_LOWER_SW_EDGE</td><td>South-west edge cannot be lowered</td></tr>
<tr><td>LSF_CANNOT_LOWER_SE_EDGE</td><td>South-east edge cannot be lowered</td></tr>
<tr><td>LSF_ONLY_ON_FLAT_LAND</td><td>This tile can only be built on flat land</td></tr>
<tr><td>LSF_ALLOW_ON_WATER</td><td>The land/water check is disabled for this tile so it can be built on water. If you need
more control over this use callback 0x2F.</td></tr>
</table>

<h3><a name="industrytiles-animation-control">Animation control callback triggers</a></h3>
<table class="t">
<tr><th>Trigger</th><th>Meaning</th></tr>
<tr><td>INDTILE_TRIGGER_CONSTRUCTION_STATE</td><td>the construction state changes </td></tr>
<tr><td>INDTILE_TRIGGER_TILE_LOOP</td><td>the tile is processed in the periodic processing loop </td></tr>
<tr><td>INDTILE_TRIGGER_INDUSTRY_LOOP</td><td>the industry of the tile is processed in the periodic processing loop (synchronized animation) </td></tr>
<tr><td>INDTILE_TRIGGER_INDUSTRY_RECEIVED_CARGO</td><td>the industry of the tile receives input cargo from a station </td></tr>
<tr><td>INDTILE_TRIGGER_INDUSTRY_DISTRIBUTES_CARGO</td><td>the industry distributes its output cargo to one of the stations nearby</td></tr>
</table>

<h2><a name="property-industries">Industries</a></h2>


<h2><a name="property-cargos">Cargos</a></h2>
<p>Available cargo classes are listed in the following table. Cargos may be in
more than one class. To combine multiple cargo classes, use the builtin function bitmask.
For example, <code>bitmask(CC_EXPRESS, CC_REFRIGERATED)</code> is used for food.</p>
<table class="t">
<tr><th>name <th> type of cargo
<tr><td>CC_PASSENGERS<td> passengers, also tourists (ECS)
<tr><td>CC_MAIL<td> mail
<tr><td>CC_EXPRESS<td> express goods, also tourists (ECS)
<tr><td>CC_ARMOURED<td> valuables, diamonds, gold and alike
<tr><td>CC_BULK<td> coal, ore, grain,...
<tr><td>CC_PIECE_GOODS<td> containers, crates, livestock
<tr><td>CC_LIQUID<td> oil, milk, water, ...
<tr><td>CC_REFRIGERATED<td> food, milk, ...
<tr><td>CC_HAZARDOUS<td> chemicals?, uranium, ...
<tr><td>CC_COVERED<td> grain, cement, fruit, ...
<tr><td>CC_OVERSIZED<td> vehicles, ...
<tr><td>CC_SPECIAL<td> Special cargo, used for refit tricks. (e.g. regearing in NARS)
<tr><td>NO_CARGO_CLASS<td>Special value that you can used to instead of 0.
<tr><td>ALL_NORMAL_CARGO_CLASSES<td> All cargo classes except CC_SPECIAL. This is the same as <code>bitmask(CC_PASSENGERS, CC_MAIL, ..., CC_OVERSIZED)</code>.
<tr><td>ALL_CARGO_CLASSES<td> All cargo classes. Same as <code>ALL_NORMAL_CARGO_CLASSES | bitmask(CC_SPECIAL)</code>
</table>

<h2><a name="property-airports">Airports</a></h2>

<h2><a name="property-objects">Objects</a></h2>
<table class="t">
<tr><th>property</th><th>value range</th><th>comment</th></tr>
<tr><td>class</td><td>String literal of length 4</td><td>Unlike station classes, there is currently no default
yet. You have to set the class ID before any other property. Characters allowed in the IDs are A-Z, 0-9. While
you are technically free to chose your own class, it's highly recommended you stick to one of the
<a href="#object-classes">default classes</a>.</td></tr>
<tr><td>classname</td><td>string</td><td>You only need to set this for one object
in every class.</td></tr>
<tr><td>name</td><td>string</td><td></td></tr>
<tr><td>climates_available</td><td>BitMask(CLIMATE_XXX, CLIMATE_YYY, ...)</td><td>XXX = [TEMPERATE | ARCTIC
| TROPICAL | TOYLAND], alternatively NO_CLIMATE or ALL_CLIMATES</td></tr>
<tr><td>size</td><td>[x, y]</td><td>Size in x and y direction. Both x and y must be compiletime constants</td></tr>
<tr><td>build_cost_multiplier</td><td></td><td>multiplicator to the base purchase cost</td></tr>
<tr><td>remove_cost_multiplier</td><td></td><td>multiplicator to the base removal cost</td></tr>
<tr><td>introduction_date</td><td>date</td><td>The date this object becomes available to build.</td></tr>
<tr><td>end_of_life_date</td><td>date</td><td>The last date this object is buildable. Must be at least 365 days after introduction_date</td></tr>
<tr><td>object_flags</td><td>bitmask(OBJ_FLAG_XXX, OBJ_FLAG_YYY)</td><td>See <a href="#object-flags">list of object flags</a></td></tr>
<tr><td>animation_info</td><td></td><td></td></tr>
<tr><td>animation_speed</td><td>0..16</td><td>Speed of animation, see <a href=#refs-animation-speed-values>animation speed table</a> for the meaning of the values.</td></tr>
<tr><td>animation_triggers</td><td></td><td></td></tr>
<tr><td>callback_flags</td><td>bitmask(OBJ_CBF_XXX, OBJ_CBF_YYY)</td><td>XXX = [SLOPE_CHECK | DECIDE_ANIM | DECIDE_ANIM_SPEED |
DECIDE_COLOUR | ADDITIONAL_TEXT | AUTOSLOPE]</td></tr>
<tr><td>height</td><td>0..255</td><td>Height of the object / 8. For example if your object is 16 pixels height you should
set height to 2. In OpenTTD this property is used to determine the height of the build object window; the height for the
object preview is set to 32 + "value of property" * 8. The property is also used to determine how high a bridge must be
if it is allowed by the bit in object_flags.</td></tr>
</table>

<h3><a name="object-classes">Default object classes</a></h3>
<p>Note: the class names listed below are recommended, you still need to set
the class name for at least one object in every class or you risk to end
up with objects in a class without a name. If multiple NewGRFs define objects
for the same class the name defined in the last NewGRF will be used.</p>
<table class="t">
<tr><th>Class</th><th>Name of the class</th><th>Description</th></tr>
<tr><td>STRU</td><td>Structures</td><td>Multitile engineered objects that don't quite fit in as industries, houses or stations - dams etc. </td></tr>
<tr><td>INFR</td><td>Infrastructure</td><td>lightpoles, communication towers, transmission towers, road signs, etc. </td></tr>
<tr><td>BLDG</td><td>Buildings</td><td>Normally accomodated by industries, houses or stations but the author feels there are limiting circumstances. </td></tr>
<tr><td>NATR</td><td>Natural objects</td><td>caves, coral reefs, swamps, etc. </td></tr>
<tr><td>PARK</td><td>Public areas</td><td>Normally accomodated by towns or industries (tourist stuff ...) but the author feels there are limiting circumstances - Parks, statues, etc. </td></tr>
<tr><td>ARTF</td><td>Artifacts</td><td>They really don't fit under any of the above - shipwrecks, etc. </td></tr>
<tr><td>MISC</td><td>Miscellaneous</td><td>For the author who is unable to accommodate his/her object under any of the previous labels.</td></tr>
</table>

<h3><a name="object-flags">List of object flags</a></h3>
<table class="t">
<tr><th>Name</th><th>Meaning</th></tr>
<tr><td>OBJ_FLAG_ONLY_SE</td><td>Only available in the scenario editor (incompatible with OBJ_FLAG_ONLY_INGAME)</td></tr>
<tr><td>OBJ_FLAG_IRREMOVABLE</td><td>Object cannot be removed with the normal dynamite tool. In OpenTTD you can only
remove the object with the magic bulldozer cheat, in TTDPatch you can remove it by holding ctrl while using the
bulldozer tool. The cost of removing this object is multiplied by 25.</td></tr>
<tr><td>OBJ_FLAG_ANYTHING_REMOVE</td><td>Anything can remove this object (owned land behavior)</td></tr>
<tr><td>OBJ_FLAG_ON_WATER</td><td>Allow construction of the object on water </td></tr>
<tr><td>OBJ_FLAG_REMOVE_IS_INCOME</td><td>Removal cost is actually income (owned land behaviour) </td></tr>
<tr><td>OBJ_FLAG_NO_FOUNDATIONS</td><td>Do not display foundations if on a slope </td></tr>
<tr><td>OBJ_FLAG_ANIMATED</td><td>Setting this flag will allow the object's animation counter to be increased, must
be set if you plan to make use of animations.</td></tr>
<tr><td>OBJ_FLAG_ONLY_INGAME</td><td>Only available during game play (incompatible with OBJ_FLAG_ONLY_SE)</td></tr>
<tr><td>OBJ_FLAG_2CC</td><td>Allows 2cc mapping for objects instead of the default 1cc </td></tr>
<tr><td>OBJ_FLAG_NOT_ON_LAND</td><td>Disallows construction on land (implies OBJ_FLAG_ON_WATER) </td></tr>
<tr><td>OBJ_FLAG_DRAW_WATER</td><td>Draws the water under the object. Only applies when built on top of a water tile,
also replaces the ground tile of the object completely. Does not work when object built on sloped water tiles.</td></tr>
<tr><td>OBJ_FLAG_ALLOW_BRIDGE</td><td>Allow bridge over the object taking the building height into account.</td></tr>
<tr><td>OBJ_FLAG_RANDOM_ANIMATION</td><td>Random bits in the "next animation frame" callback</td></tr>
</table>

<h2><a name="property-railtypes">Railtypes</a></h2>
<table class="t">
<tr><th>property</th><th>value range</th><th>comment</th></tr>
<tr><td>label</td><td>                   4-byte string</td><td>names of default rail types: "RAIL", "ELRL", "MONO", "MLEV", "3RDR"</td></tr>
<tr><td>name</td><td>                    string</td><td></td></tr>
<tr><td>menu_text</td><td>               string</td><td></td></tr>
<tr><td>build_window_caption</td><td>    string</td><td></td></tr>
<tr><td>autoreplace_text</td><td>        string</td><td></td></tr>
<tr><td>new_engine_text</td><td>         string</td><td></td></tr>
<tr><td>compatible_railtype_list</td><td>list of railtype labels</td><td>e.g. ["RAIL", "ELRL", "MONO"]</td></tr>
<tr><td>powered_railtype_list</td><td>   list of railtype labels</td><td></td></tr>
<tr><td>railtype_flags</td><td>          bitmask(RAILTYPE_FLAG_CATANERY, RAILTYPE_FLAG_NO_LEVEL_CROSSING (OpenTTD r20049))</td><td></td></tr>
<tr><td>curve_speed_multiplier</td><td>  0...65525</td><td>max curve speed is defined as multiple of the base curve speed (see below)</td></tr>
<tr><td>station graphics</td><td>        RAILTYPE_STATION_NORMAL, RAILTYPE_STATION_MONORAIL, RAILTYPE_STATION_MAGLEV</td><td></td></tr>
<tr><td>construction_cost</td><td>       0 ... 65525</td><td>per piece of track as multiplier to PR_BUILD_RAIL base cost</td></tr>
<tr><td>speed_limit</td><td>             0 ... 65525 km/h (speed units)</td><td>A speed limit of 0 means unlimited speed</td></tr>
<tr><td>acceleration_model</td><td>      ACC_MODEL_RAIL, ACC_MODEL_MONORAIL, ACC_MODEL_MAGLEV</td><td>ACC_MODEL_RAIL and ACC_MODEL_MONORAIL behave the same currently</td></tr>
<tr><td>map_colour</td><td>              0 ... 255</td><td>entry in the colour palette</td></tr>
</table>

<!--
example table:
<table class="t">
<tr><th></th><th></th><th></th></tr>
<tr><td></td><td></td><td></td></tr>
</table>
-->
<p>
The base speeds relevant for the curve_speed_multiplier are:</p>
<table class="t">
<tr><th>curve length</th><th>base speed [km/h]</th></tr>
<tr><td>0 (90 degree turn)</td><td>30</td></tr>
<tr><td>1</td><td>44</td></tr>
<tr><td>2</td><td>55</td></tr>
<tr><td>3</td><td>66</td></tr>
<tr><td>4</td><td>75</td></tr>
<tr><td>5</td><td>84</td></tr>
<tr><td>6</td><td>91</td></tr>
<tr><td>7</td><td>98</td></tr>
<tr><td>8</td><td>103</td></tr>
<tr><td>9</td><td>108</td></tr>
<tr><td>10</td><td>111</td></tr>
<tr><td>11</td><td>114</td></tr>
<tr><td>12+</td><td>115</td></tr>
</table>

<p>Rail types define a number of fixed graphic blocks:</p>
<table class="t">
<tr><th>block name</th><th>number of sprites</th><th>meaning</th></tr>
<tr><td>GUI</td><td>         16</td><td>4 rail directions, autorail, depot, tunnel and convert rail sprites for rail menu</td></tr>
<tr><td>TRACKOVERLAY*</td><td>10</td><td>6 flat and 4 slope sprites. Track without landscape</td></tr>
<tr><td>UNDERLAY*</td><td>    16</td><td>6 flat and 4 slope, one crossing WITH track, 5 junction pieces without track. Tracks with foundations but without landscape</td></tr>
<tr><td>TUNNELS*</td><td>     4</td><td>4 track sprites, one for each tunnel entrance. Only track with foundations, no landscape</td></tr>
<tr><td>CATENERY_WIRE</td><td>28</td><td></td></tr>
<tr><td>CATENERY_PYLONS</td><td>8</td><td></td></tr>
<tr><td>BRIDGE_SURFACES</td><td>6</td><td></td></tr>
<tr><td>LEVEL_CROSSINGS*</td><td>10</td><td>For each direction: one track sprite and 4 sprites for road lights etc</td></tr>
<tr><td>DEPOTS*</td><td>6</td><td>2 sprites for each south-ish, 1 sprite for each north-ish depot. Like original depots.</td></tr>
<tr><td>FENCES</td><td>8</td><td>x, y, vertical, horizontal, SW, SE, NE and NW slopes like original fences at sprite 1301</td></tr>
</table>

<p>The entries marked by * are required. A typical implementation for railtypes can look like
<pre class="code">
item(FEAT_RAILTYPES, elrail, 0x01) {
    property {
        label:                      "SHIN";
        name:                       string(STR_EL_RAIL);
        menu_text:                  string(STR_EL_RAIL);
        build_window_caption:       string(STR_BUILD_CAPTION);
        autoreplace_text:           string(STR_AUTOREPLACE);
        new_engine_text:            string(STR_NEW_ENGINE);
        compatile_railtype_list:    ["SHIN","RAIL","ELRL"];           // Tracks of rail and electrified rail are compatible
        powered_railtype_list:      ["ELRL","SHIN"];                  // But we got only power when we have electricity
        railtype_flags:             RAILTYPE_FLAG_CATANERY;           // High speed tracks should not have level crossings
        curve_speed_multiplier:     1;
        station_graphics:           RAILTYPE_STATION_MAGLEV;          // We want the most modern stations
        construction_cost:          32;                               // should be pretty steep
        speed_limit:                500 km/h;
        acceleration_model:         ACC_MODEL_RAIL;                   // This is still rail, though
    }
    graphics {
        TRACKOVERLAY:    ground_switch_overlay;     // defines the sprites drawn as overlay for junctions and highlight
        UNDERLAY:        ground_switch_underlay;    // defines the usual tracks and the underlay for junctions
        LEVEL_CROSSINGS: level_crossing_switch;     // defines level crossings including traffic lights and blocking bars
        TUNNELS:         tunnel_switch;             // defines the tracks drawn on a funnel tile
        DEPOTS:          depot_switch_electric;     // defines the depot sprites
        BRIDGE_SURFACES: bridge_terrain_switch;     // defines the overlay drawn over bridges
        FENCES:          fences_group;              // defines the look of fences
        // we don't define catenery wire and pylons, thus we use the default which comes with the base graphics.
    }
}
</pre>
The switches and graphics blocks are defined in the usual way as described in section
<a href="#block-switch">switches</a>, <a href="#block-randomswitch">random switches</a> and <a href="#block-item-graphics">graphics block</a> sections.
</p>

<h2><a name="property-airporttiles">Airport tiles</a></h2>

<h2><a name="property-snowline">Snowline</a></h2>
The snowline is specified by a <code>snowline</code> statement. See the
example below:
<pre class="code">
snowline {
	day_of_year(2,  1):  2,
	day_of_year(11, 1):  4,
	177: 29,
	day_of_year(10, 1): 29,
	linear
}
</pre>
It starts with the <code>snowline</code> keyword, and contains a number of
<code>&lt;day-of-the-year&gt; : &lt;height&gt;</code>pairs. These define the
height of the snowline at that day in the year. The day of the year value is
actually an integer from 1 up to and including 365, so you may also define a
day as a number. Heights run from 2 (for snow everywhere) to 29, although 17
is already sufficient to remove all traces of snow from the game.
<p>For the days not listed, the program computes a height. It can do that in
two modes, namely in <code>equal</code> mode and in <code>linear</code> mode
(last line of text in the example). Default mode is <code>equal</code>.
In <code>equal</code> mode, the height of the snow is the same as the day before,
unless the day is listed in the <code>snowline</code> statement.
In <code>linear</code> mode, the height of the snowline gets linearly
interpolated between two heights specified in the statement.
In both cases, note that days `wrap around' at the end of the year, to get the
snow height of January 1st (if not listed in the statement), the last
specified height of the year is used in the calculation.


<h1><a name="vars">List of variables</a></h1>
<h2><a name="vars-general">General</a></h2>
<p>A number of global variables are available. Some are only available in
switch-blocks, while others can be used in any expression. This is indicated
by the second column in the following table:</p>
<table class="t">
<tr><th>name <th>Available outside switch blocks <th>Value range <th>Comment
<tr><td>ttd_platform <td>Yes <td>PLATFORM_TTDPATCH or PLATFORM_OPENTTD <td>
<tr><td>ttdpatch_version <td>Yes <td> <td>
<tr><td>openttd_version <td>Yes <td> <td>use version_openttd(MAJOR, MINOR, BUILD) to test and compare for a
    release version and version_openttd(MAJOR, MINOR, BUILD, REVISION) to test for a specific svn
    version of OpenTTD
<tr><td>current_palette <td>Yes <td>PALETTE_DOS or PALETTE_WIN <td>
<tr><td>current_date <td>No <td>days since year 0 <td> Use date (year, month, day) to compare with.
<tr><td>current_year <td>No <td>years since year 0 <td>
<tr><td>current_month <td>No <td>0 .. 11 <td>
<tr><td>current_day_of_month <td>No <td>0 .. 30 <td>
<tr><td>current_day_of_year <td>No <td>0 .. 364 (365 in leap years) <td>
<tr><td>is_leapyear <td>No <td>0 or 1 <td>
<tr><td>date_loaded <td>Yes <td>days since year 0 <td>Set to the time of game load, which is the current date in single player, 
    and the date the server started in multiplayer. This to prevent desyncs.
<tr><td>year_loaded <td>Yes <td>years since year 0 <td>See date_loaded.
<tr><td>starting_year <td>Yes <td>years since year 0 <td>Years before 1920 are clamped to 1920
<tr><td>animation_counter <td>No <td> 0 .. 65535 <td> Increased by 1 each tick
<tr><td>climate <td>Yes (a)<td>CLIMATE_XXX with XXX = [TEMPERATE | ARCTIC | TROPICAL | TOYLAND] <td>
<tr><td>game_mode <td>Yes <td>GAMEMODE_XXX with XXX = [MENU | GAME | EDITOR] <td>
<tr><td>loading_stage <td>Yes <td>LOADING_STAGE_XXX with XXX = [INITIALIZE | RESERVE | ACTIVATE | TEST] <td>'Phase' of the GRF loading process.
<tr><td>difficulty_level <td>Yes (a) <td>DIFFICULTY_XXX with XXX = [EASY | MEDIUM | HARD | CUSTOM] <td>
<tr><td>display_options <td>No <td> bitmask of DISPLAY_XXX with XXX = [TOWN_NAMES | STATION_NAMES | SIGNS | ANIMATION | FULL_DETAIL]
    <td> Use hasbit(display_options, DISPLAY_XXX) to test a particular bit.
<tr><td>desert_paved_roads <td>Yes (b) <td>0 or 1 <td> If 1, desert roads have pavement and street lights.
<tr><td>train_width_32_px <td>Yes (b) <td>0 or 1 <td> If 1, train vehicles are 32 instead of 29 pixels wide in the depot view.
<tr><td>traininfo_y_offset <td>Yes (b) <td>-128 .. 127 <td>Used to correctly position the depot view of trains.
<tr><td>snowline_height <td>No <td>16 .. 120 in steps of 8, or 0xFF if no snow. <td>One tile height is equivalent to 8 units.
<tr><td>traffic_side <td>Yes (a)<td>TRAFFIC_SIDE_LEFT or TRAFFIC_SIDE_RIGHT <td>
<tr><td>freight_trains <td>Yes <td>1 .. 255 <td>Weight multiplier for freight trains
<tr><td>plane_speed <td>Yes <td>1 .. 4<td>Speed multiplier for planes. Value of 1 is equal to the original speed (1/4), while 4 means that planes move at full speed (4/4)
<tr><td>ttdpatch_flags <td>Yes <td> <td>
<tr><td>current_callback <td>No <td> <td>Set to the ID of the current callback, see the various features for more information / examples.
<tr><td>extra_callback_info1 <td>No <td>Varies <td>Extra callback information, meaning differs per callback.
<tr><td>extra_callback_info2 <td>No <td>Varies <td>Extra callback information, meaning differs per callback.
<tr><td>last_computed_result <td>No <td> <td>Result of the last (previously evaluated) switch block.
<tr><td>base_sprite_2cc <td>Yes <td>0 .. 65535<td>Base sprite for 2cc (dual company colour) colour-maps
<tr><td>map_type <td>Yes <td>MAP_TYPE_XXX with XXX = [RECTANGULAR | X_BIGGER | Y_BIGGER] <td>
<tr><td>map_min_edge <td>Yes <td>64 .. 2048 <td>Length of the smallest map edge (in tiles)
<tr><td>map_max_edge <td>Yes <td>64 .. 2048 <td>Length of the biggest map edge (in tiles)
<tr><td>map_x_edge <td>Yes <td>64 .. 2048 <td>Length of the x (top-left) map edge (in tiles)
<tr><td>map_y_edge <td>Yes <td>64 .. 2048 <td>Length of the y (top-right) map edge (in tiles)
<tr><td>map_size <td>Yes <td>64*64 .. 2048*2048 <td>Total number of tiles on the map
</table>
<p>(a) The value of these variables can change during the game. Reading them
from a switch block (which reads the current value) may result in a different
value than in the rest of the code (which is evaluated when the game is loaded).</p>
<p>(b) These variables can be written as well as read. Use a normal assignment,
for example:</p>
<pre class="code">
traininfo_y_offset = -2;
</pre>

<h2><a name="vars-vehicles">Vehicles</a></h2>
Please note that while those variables are available for all vehicles types, some of them only make sense
for one or more vehicle types. For example checking current_railtype for a non-rail vehicle doesn't make
sense at all.
<h3><a name="vars-vehicles-normal">Variables without parameter</a></h3>
<table class="t">
<tr><th>name</th><th>value range</th><th>comment</th></tr>
<tr><td>position_in_consist <td>0 ... 255<td>The position of the current vehicle-part from the start of the vehicle. The engine will
get value 0, the first wagon (or second engine) gets value 1, etc.
<tr><td>position_in_consist_from_end <td>0 ... 255 <td>Same as position_in_consist but counted from the end. The last wagon will
get value 0.
<tr><td>num_vehs_in_consist <td>1 ... 256 <td>The total number of vehicles-parts in this vehicle. For aircraft this will include
the shadow and the rotor.
<tr><td>position_in_vehid_chain <td>0 ... 255 <td>See position_in_consist, but not of the complete vehicle but only all consecutive
parts with the same id.
<tr><td>position_in_vehid_chain_from_end <td>0 ... 255 <td>See position_in_consist_from_end, but not of the complete vehicle but only all consecutive
parts with the same id.
<tr><td>num_vehs_in_vehid_chain <td>1 ... 256 <td>See num_vehs_in_consist, but not of the complete vehicle but only all consecutive
parts with the same id.
<tr><td>cargo_classes_in_consist <td>Bitmask of CC_XXX <td><a href="#property-cargos">cargo classes</a>
<tr><td>most_common_refit <td><a href="#property-cargos">cargo class</a><td>cargo class most often refit to
<tr><td><a name="bitmask_consist_info">bitmask_consist_info</a><td>Bitmask 8 bit<td>OR of all
<a href="#bitmask_vehicle_info">bitmask_vehicle_info</a> of all vehicles (engines, wagons) in
the consist. Only available for rail vehicles.
<tr><td>company_num <td>0 ... 14 <td>company number of the vehicle owner. TTDPatch only supports up to 8 companies (0 ... 7)
<tr><td>company_type <td>PLAYERTYPE_XX <td>PLAYERTYPE_HUMAN, PLAYERTYPE_AI, PLAYERTYPE_HUMAN_IN_AI
(human managing AI company) or PLAYERTYPE_AI_IN_HUMAN (AI managing human company). OpenTTD only
uses PLAYERTYPE_HUMAN and PLAYERTYPE_AI. If you cheat yourself to be part of an AI company OpenTTD
will still report PLAYERTYPE_AI for the company with yourself and the AI and it'll report
PLAYERTYPE_HUMAN for the now uncontrolled company.
<tr><td>company_color1 <td>0 ... 15 <td>index into company colour
<tr><td>company_color2 <td>0 ... 15 <td>index into company colour. It's the same as company_colour1, if no 2nd company colour is chosen.
<tr><td>aircraft_height <td>0 ... 255 <td>Height difference between the aircraft and its shadow. 8 Units are equivalent to one height level on the map.
<tr><td>airport_type <td>AIRPORTTYPE_XX <td>AIRPORTTYPE_SMALL, AIRPORTTYPE_LARGE, AIRPORTTYPE_HELIPORT or AIRPORTTYPE_OILRIG
<tr><td>curv_info_prev_cur <td>-2 ... 2 <td>Curvature to the right is positive. 1 unit is 45 degrees.
<tr><td>curv_info_cur_next <td>-2 ... 2 <td>Curvature to the right is positive. 1 unit is 45 degrees.
<tr><td>curv_info_prev_next <td>-4 ... 4 <td>Curvature to the right is positive. 1 unit is 45 degrees.
<tr><td>motion_counter <td>0 ... 15 <td>Is increased every time the vehicle moves a single step on the map. Useful for animations.
<tr><td>cargo_type_in_veh <td>entry in cargo translation table <td>
<tr><td>cargo_unit_weight <td>weight per unit in 1/16t <td>
<tr><td>cargo_classes <td><a href="#property-cargos">cargo class</a><td>class of the currently transported cargo
<tr><td>vehicle_is_available <td> [0 | 1]<td>Value is 1 if the vehicle is available on the open market
<tr><td>vehicle_is_testing <td> [0 | 1]<td>Value is 1 if the vehicle is currently being tested
<tr><td>vehicle_is_offered <td> [0 | 1]<td>Value is 1 if the vehicle is currently being offered for exclusive preview
<tr><td>build_year <td>0 ... 5000000 <td>0-based year when the vehicle was built
<tr><td>direction <td>DIRECTION_XX <td>XX = NORTH, NORTHEAST, EAST, SOUTHEAST, SOUTH, SOUTHWEST, WEST or NORTHWEST. e.g. DIRECTION_NORTH.
<tr><td>cargo_capacity <td>0 ... 65535 <td>Cargo capacity (number of units) of the vehicle
<tr><td>cargo_count <td>0 ... 65535 <td>Number of cargo units of cargo in the vehicle
<tr><td>vehicle_type_id <td> <td>ID of the vehicle
<tr><td>refit_cycle <td>0 ... 255 <td>How many times the vehicle has been refitted to the same cargo type
<tr><td>vehicle_is_powered <td> [0 | 1]<td> vehicle provides power and is on the correct track type
<tr><td>vehicle_is_not_powered <td> [0 | 1]<td> vehicle is either on a wrong track type or it doesn't provide power at all
<tr><td>vehicle_is_potentially_powered <td> [0 | 1]<td> vehicle provides power, if it is on a suitable track type
<tr><td>vehicle_is_reversed <td> [0 | 1]<td>Value is 1 if the vehicle has reversed an odd number of times
<tr><td>built_during_preview <td> [0 | 1]<td>Value is 1 if the vehicle was built during the exclusive preview stage
<tr><td>current_railtype <td> Entry from railtype translation table or 0xFF<td>Don't use this variable unless you've defined
a railtype translation table. If the train is running on a railtype that is not listed in your railtype translation table
this variable will contain 0xFF. Available since OpenTTD r20164.
<tr><td>waiting_triggers <td> <td>Random triggers waiting to be matched. (see <a href="#block-randomswitch">Random switch</a>)
<tr><td>random_bits <td>0 ... 255 <td>Random data that can be used to randomize certain descisions. (see <a href="#block-randomswitch">Random switch</a>)
<tr><td>grfid <td>0 ... 0xFFFFFFFF <td>GRFID that defined the <a href="#block-item-graphics">graphics</a>-block for this vehicle.
<tr><td>vehicle_is_stopped <td> [0 | 1]<td>Value is 1 if the vehicle is stopped, or if it is braking for a stop (trains only).
<tr><td>vehicle_is_crashed <td> [0 | 1]<td>Value is 1 if the vehicle has crashed.
<tr><td>vehicle_is_broken <td> [0 | 1]<td>Value is 1 if the vehicle is broken down.
<tr><td>date_of_last_service <td>date(year, month, day)<td>Not valid before 1920 and after 2090.
<tr><td>breakdowns_since_last_service <td>0 ... 255 <td>Number of breakdowns since the last service
<tr><td>reliability <td>0 ... 100 <td>Reliability (percentage)
<tr><td>age_in_days <td>0 ... 65535 <td>Vehicle age in days.
<tr><td>max_age_in_days <td>0 ... 65535 <td>Maximum vehicle age in days.
<tr><td>current_speed <td>(speed units)<td>The current speed of the vehicle in m/s
<tr><td>max_speed <td>(speed units)<td>The maximum speed of the vehicle in m/s
</table>
<h3><a name="vars-vehicles-parameter">Variables that require an argument</a></h3>
<table class="t">
<tr><th>name</th><th>Argument</th><th>value range</th><th>comment</th></tr>
<tr><td>count_veh_id</td><td>The vehicle ID to look for.</td><td>0..255</td><td>The number of vehicles in the current consist that have
the given ID.</td></tr>
</table>
<h3><a name="vars-vehicles-callbacks">Callbacks for vehicles</a></h3>
<table class="t">
<tr><th>name<th>use
<tr><td>VEH_CB_WAGON_POWER           <td>decide upon whether a wagon has power
<tr><td>VEH_CB_WAGON_LENGTH          <td>decide upon the length of the wagon
<tr><td>VEH_CB_LOAD_AMOUNT           <td>decide upon the loading speed (amount loaded per tick)
<tr><td>VEH_CB_REFITTED_CAPACITY     <td>decide upon the capacity after refit
<tr><td>VEH_CB_ARTICULATED_PARTS     <td>decide upon the ID of the next vehicle added to the articulated vehicle chain
<tr><td>VEH_CB_CARGO_SUFFIX          <td>decide upon cargo subtype display for refit
<tr><td>VEH_CB_CAN_ATTACH_WAGON      <td>decide whether a wagon can be attached
<tr><td>VEH_CB_TEXT_PURCHASE_SCREEN  <td>decide upon an additional text for the purchase screen
<tr><td>VEH_CB_COLOUR_MAPPING        <td>decide upon the colour mapping instead of company colour
<tr><td>VEH_CB_START_STOP_CHECK      <td>decide whether a vehicle may be started. Return 0xFF to succeed or an error message.
<tr><td>VEH_CB_32DAY                 <td>Triggers one or both of <it>Trigger vehicle trigger 10</it> (bit 0) and <it>Update colour map via VEH_CB_COLOUR_MAPPING</it> (bit 1)
<tr><td>VEH_CB_SOUND_EFFECT          <td>decide whether and which sound is being played for certain situations
<tr><td>VEH_CB_AUTOREPLACE_SELECT    <td>decide upon appropriate replacement vehicles
<tr><td>VEH_CB_VEHICLE_PROPERTIES    <td>Change vehicle properties
</table>
<p>In order to set properties for vehicles via callback <code>VEH_CB_VEHICLE_PROPERTIES</code> it's necessary to query the general variable <code>extra_callback_info1</code>
which can take different values depending upon the vehicle type:
<table class="t">
<tr><th>vehicle type<th>property<th>value
<tr><td>all<td>loading_speed<td>PROP_XXX_LOADING_SPEED
<tr><td><td>cost_factor<td>PROP_XXX_COST_FACTOR
<tr><td><td>running_cost_factor<td>PROP_XXX_RUNNING_COST_FACTOR
<tr><td>trains<td>speed<td>PROP_TRAINS_SPEED
<tr><td><td>power<td>PROP_TRAINS_POWER
<tr><td><td>cargo_capacity<td>PROP_TRAINS_CARGO_CAPACITY
<tr><td><td>weight<td>PROP_TRAINS_WEIGHT
<tr><td><td>tractive_effort_coefficient<td>PROP_TRAINS_TRACTIVE_EFFORT_COEFFICIENT
<tr><td><td>shorten_vehicle<td>PROP_TRAINS_SHORTEN_VEHICLE
<tr><td><td>visual_effect<td>PROP_TRAINS_VISUAL_EFFECT
<tr><td><td>bitmask_vehicle_info<td>PROP_TRAINS_BITMASK_VEHICLE_INFO
<tr><td>vehicles<td>cargo_capacity<td>PROP_ROADVEHS_CARGO_CAPACITY
<tr><td>ships<td>speed<td>PROP_SHIPS_SPEED
<tr><td><td>cargo_capacity<td>PROP_SHIPS_CARGO_CAPACITY
<tr><td>planes<td>speed<td>PROP_AIRCRAFT_SPEED
<tr><td><td>passenger_capacity<td>PROP_AIRCRAFT_PASSENGER_CAPACITY
<tr><td><td>mail_capacity<td>PROP_AIRCRAFT_MAIL_CAPACITY
</table>
where for the properties available for all vehicle types XXX can either be TRAINS, ROADVEHS, SHIPS or AIRCRAFT.
Note also that the return values don't yet support units, you'll need to enter the properties untranslated (e.g. road vehicle
weights are in quantities of 0.25 tons).

Example:
<pre class="code">
switch (FEAT_TRAINS, SELF, tank_wagon_cb_property_weight_switch, cargo_type_in_veh) {
    // wagons transporting food need some extra stuff and are heavier
    WATR: return 25;
    MILK: return 25;
    CB_FAILED; // use value set in the property block for other cargos
}

switch (FEAT_TRAINS, SELF, tank_wagon_cb_property_switch, extra_callback_info1) {
    PROP_TRAINS_WEIGHT          : tank_wagon_cb_property_weight_switch;
    PROP_TRAINS_CARGO_CAPACITY  : tank_wagon_cb_capacity_switch;
    CB_FAILED; // we don't set other properties
}

switch (FEAT_TRAINS, SELF, tank_wagon_switch, current_callback) {
    VEH_CB_REFITTED_CAPACITY:  tank_wagon_cb_capacity_switch; // switch not shown here
    VEH_CB_VEHICLE_PROPERTIES: tank_wagon_cb_property_switch;
    tank_wagon_graphics_switch; // go to graphics branch, if no callback asked for; not shown here
}

item(FEAT_TRAINS, tank_wagon) {
    property {
        callback_flags:                 VEH_CBF_REFITTED_CAPACITY; // activate callback
        cargo_capacity:                 30;
        weight:                         24 ton;
    }
    graphics {
        tank_wagon_switch;
    }
}
</pre>
</p>
<h2><a name="vars-stations">Stations</a></h2>
<h2><a name="vars-canals">Canals</a></h2>
<h2><a name="vars-bridges">Bridges</a></h2>
<h2><a name="vars-houses">Houses</a></h2>
<h2><a name="vars-industrytiles">Industry tiles</a></h2>
Variables that require a signed x,y offset. The offset is relative to the current tile. Offset 0,0 means the current tile.
<table class="t">
<tr><th>name</th><th>value range</th><th>comment</th></tr>
<tr><td>nearby_tile_slope</td><td>Which corners are raised on the given tile.</td><td>
Bit 0: west corner is above the lowest corner.<br>
Bit 1: south corner is above the lowest corner.<br>
Bit 2: east corner is above the lowest corner.<br>
Bit 3: north corner is above the lowest corner.<br>
Bit 4: this tile is a steep slope (the corner opposite to the lowest corner is 2 units higher).
</td></tr>
<tr><td>nearby_tile_is_same_industry</td><td>1 if the tile is part of the same industry, 0 otherwise</td><td></td></tr>
<tr><td>nearby_tile_is_water</td><td>1 if the tile is water, 0 otherwise</td><td></td></tr>
<tr><td>nearby_tile_terrain_type</td><td>TILETYPE_NORMAL, TILETYPE_DESERT, TILETYPE_RAIN_FOREST, TILETYPE_SNOW</td><td></td></tr>
<tr><td>nearby_tile_height</td><td>0..120</td><td>The height of the lowest corner of the given tile.</td></tr>
<tr><td>nearby_tile_animation_frame</td><td>0..255</td><td>Animation frame of the given tile</td></tr>
<tr><td>nearby_tile_industrytile_id</td><td>0x00aa, 0xFFbb, 0xFFFE or 0xFFFF</td><td>
0x00aa: The tile is an industry tile that is part of this GRF, the tile id is aa.<br>
0xFFbb: The tile is an original industry tile with id bb.<br>
0xFFFE: The tile is an industry tile defined in another GRF.<br>
0xFFFF: The tile is not an industry tile or it belongs to another GRF.
</td></tr>
</table>

<h2><a name="vars-industries">Industries</a></h2>
Variables that require some parameters.
<table class="t">
<tr><th>name</th><th>arguments</th><th>comment</th></tr>
<tr><td>industry_count</td><td>industry_type, grfid&nbsp;=&nbsp;-1</td><td>The value of this variable is the number
of industries of a given type that are currently on the map. industry_type is either the ID of an
industry. GRFid is the grf in which the industry was defined. The default value is -1, which means
current newgrf. A grfid of 0 lets you check the number of default industries of a given type.</td></tr>
<tr><td>industry_distance</td><td>industry_type, grfid&nbsp;=&nbsp;-1</td><td>The value of this variable is the
manhattan distance the closest instance of the given industry or 0xFFFF if not applicable. See
industry_count for a description of the parameters.</td></tr>
<tr><td>industry_layout_count / industry_layout_distance</td><td>industry_type, layout, grfid&nbsp;=&nbsp;-1.</td>
<td>See industry_count / industry_distance for description of industry_type, grfid and return value. The
results are filtered to industries that have the given layout number.</td></tr>
</table>

<h2><a name="vars-cargos">Cargos</a></h2>
<h2><a name="vars-airports">Airports</a></h2>
<h2><a name="vars-objects">Objects</a></h2>
<table class="t">
<tr><th>name</th><th>value range</th><th>comment</th></tr>
<tr><td>relative_pos</td><td></td><td></td></tr>
<tr><td>terrain_type</td><td>TILETYPE_NORMAL, TILETYPE_DESERT, TILETYPE_RAIN_FOREST, TILETYPE_SNOW</td><td></td></tr>
<tr><td>tile_slope</td><td>Which corners are raised on the given tile.</td><td>
Bit 0: west corner is above the lowest corner.<br>
Bit 1: south corner is above the lowest corner.<br>
Bit 2: east corner is above the lowest corner.<br>
Bit 3: north corner is above the lowest corner.<br>
Bit 4: this tile is a steep slope (the corner opposite to the lowest corner is 2 units higher).
</td></tr>
<tr><td>build_date</td><td></td><td>The date this object was build.</td></tr>
<tr><td>animation_frame</td><td>0..255</td><td>Current animation frame</td></tr>
<tr><td>company_color</td><td>0..15</td><td>Color used for the company color mask</td></tr>
<tr><td>owner</td><td>0..0x10</td><td>CompanyID of the owner of the object or 0x10 if it was build in the scenario editor</td></tr>
<tr><td>town_manhattan_dist</td><td></td><td>Manhattan distance to the nearest town</td></tr>
<tr><td>town_euclidean_dist</td><td></td><td>Euclidean distance to the nearest town</td></tr>
<tr><td>town_zone</td><td><a href="#refs-town-zones">town zone</a></td><td>The town zone of the current tile. The town zone from the closest town (measured in manhattan
distance) is used.</td></tr>
</table>

Variables that require some parameters.
<table class="t">
<tr><th>name</th>                        <th>arguments</th>           <th>value range</th> <th>comment</th></tr>
<tr><td>nearby_tile_random_bits</td>     <td>x, y offset (-8..7)</td> <td></td> <td>Random bits of the given tile</td></tr>
<tr><td>nearby_tile_slope</td>           <td>x, y offset (-8..7)</td> <td></td> <td>See tile_slope</td></tr>
<tr><td>nearby_tile_is_same_object</td>  <td>x, y offset (-8..7)</td> <td>0..1</td> <td>Is the given tile part of the same object?</td></tr>
<tr><td>nearby_tile_is_water</td>        <td>x, y offset (-8..7)</td> <td>0..1</td> <td>Is the given tile a water tile?</td></tr>
<tr><td>nearby_tile_terrain_type</td>    <td>x, y offset (-8..7)</td> <td></td> <td>See terrain_type</td></tr>
<tr><td>nearby_tile_height</td>          <td>x, y offset (-8..7)</td> <td></td> <td>The minimum height of the given tile</td></tr>
<tr><td>nearby_tile_class</td>           <td>x, y offset (-8..7)</td> <td><a href="#refs-tile-classes">Tile class</a></td> <td></td></tr>
<tr><td>nearby_tile_animation_frame</td> <td>x, y offset (-8..7)</td> <td></td> <td>See animation_frame</td></tr>
<tr><td>object_type_count</td>           <td>object id [, grfid]</td> <td>0..0xFFFF</td> <td>Number of objects with the given
object id currently on the map. Grfid is the grfid of the newgrf you want to check the object count of (default is current grf).</td></tr>
<tr><td>object_type_nearest</td>         <td>object id [, grfid]</td> <td>0..0xFFFF</td> <td>Manhattan distance to the closest object
of the given type. Grfid is the grfid of the newgrf you want to check the minimum object distance of (default is current grf). If the given
object type is not yet build this will return 0xFFFF</td></tr>
</table>

<h2><a name="vars-railtypes">Railtypes</a></h2>
<table class="t">
<tr><th>name</th><th>value range</th><th>comment</th></tr>
<tr><td>terrain_type</td><td>TILETYPE_NORMAL, TILETYPE_DESERT, TILETYPE_RAIN_FOREST, TILETYPE_SNOW</td><td></td></tr>
<tr><td>enhanced_tunnels</td><td>0</td><td>should custom tunnel entrances be modified other values than 0 might be returned</td></tr>
<tr><td>level_crossing_status</td><td>LEVEL_CROSSING_CLOSED, LEVEL_CROSSING_OPEN</td><td></td></tr>
<tr><td>build_date <td>0 .. 5000000 <td>for depots only: build date of the depot in days since 0
</table>
<h2><a name="vars-airporttiles">Airport tiles</a></h2>

<h1><a name="warnings">Warnings</a></h1>
<p>Sometimes NML gives warnings that might be cryptic or you have no idea why they are given. This section will list these warnings.</p>
<li>
<ul>
<b>IMAGE at [x: X, y: Y]: I of J pixels (K%) are pure white</b>
<br>
This warning is generated when pixels with palette index 255, or RGB colour 0xFFFFFF, are found. These so-called pure white pixels are not used by OpenTTD, or TTDPatch, as they do not work with colour remaps such as the "transparency" colour remap. The pure white is used around the sprites in the PCX files that GRFCodec generates, which made pure white images with sprites common in NewGRF development. As such the pure white pixel test is also a way to detect so cases where the position or size of the sprite is incorrect, i.e. when it covers the white pixels around the sprite.
</ul>
</li>

<h1><a name="refs">Additional references</a></h1>

<h2><a name="refs-animation-speed-values">Animation speed</a></h2>
House, industry and airport tiles can define an animation speed. This property gives the animation speed in ticks,
spaced by powers of two. For houses the minimum value is 2 (=4 ticks). The ingame length as well real length is given as rounded values for reference only, assuming normal game speed.
<table class="t">
<tr><th>value<th>animation<br>length in ticks<th>ingame<th>real time
<tr><td>0<td>1<td><td>0.03 s
<tr><td>1<td>2<td><td>0.06 s
<tr><td>2<td>4<td><td>0.11 s
<tr><td>3<td>8<td><td>0.22 s
<tr><td>4<td>16<td><td>0.45 s
<tr><td>5<td>32<td>half a day<td>0.9 s
<tr><td>6<td>64<td>nearly 1 day<td>1.8 s
<tr><td>7<td>128<td>2 days<td>3&frac12; s
<tr><td>8<td>256<td>3&frac12; days<td>7 s
<tr><td>9<td>512<td>7 days<td>15 s
<tr><td>10<td>1024<td>14 days<td>30 s
<tr><td>11<td>2048<td>28 days<td>1 min
<tr><td>12<td>4096<td>55 days<td>2 min
<tr><td>13<td>8192<td>3&frac12; months<td>4 min
<tr><td>14<td>16384<td>7&frac12; months<td>7&frac12; min
<tr><td>15<td>32768<td>15 months<td>15 min
<tr><td>16<td>65536<td>2&frac12; years<td>30 min
</table>
<h2><a name="refs-default-industries">Default industries</a></h2>
<ul>
<li>INDUSTRYTYPE_COAL_MINE</li>
<li>INDUSTRYTYPE_POWER_PLANT</li>
<li>INDUSTRYTYPE_SAWMILL</li>
<li>INDUSTRYTYPE_FOREST</li>
<li>INDUSTRYTYPE_OIL_REFINERY</li>
<li>INDUSTRYTYPE_OIL_RIG</li>
<li>INDUSTRYTYPE_TEMPERATE_FACTORY</li>
<li>INDUSTRYTYPE_TROPICAL_FACTORY</li>
<li>INDUSTRYTYPE_PRINTING_WORKS</li>
<li>INDUSTRYTYPE_STEEL_MILL</li>
<li>INDUSTRYTYPE_TEMPERATE_ARCTIC_FARM</li>
<li>INDUSTRYTYPE_TROPICAL_FARM</li>
<li>INDUSTRYTYPE_COPPER_ORE_MINE</li>
<li>INDUSTRYTYPE_OIL_WELLS</li>
<li>INDUSTRYTYPE_FOOD_PROCESSING_PLANT</li>
<li>INDUSTRYTYPE_PAPER_MILL</li>
<li>INDUSTRYTYPE_TEMPERATE_BANK</li>
<li>INDUSTRYTYPE_TROPICAL_ARCTIC_BANK</li>
<li>INDUSTRYTYPE_GOLD_MINE</li>
<li>INDUSTRYTYPE_DIAMOND_MINE</li>
<li>INDUSTRYTYPE_IRON_ORE_MINE</li>
<li>INDUSTRYTYPE_FRUIT_PLANTATION</li>
<li>INDUSTRYTYPE_RUBBER_PLANTATION</li>
<li>INDUSTRYTYPE_WATER_WELL</li>
<li>INDUSTRYTYPE_WATER_TOWER</li>
<li>INDUSTRYTYPE_LUMBER_MILL</li>
<li>INDUSTRYTYPE_CANDYFLOSS_FOREST</li>
<li>INDUSTRYTYPE_SWEETS_FACTORY</li>
<li>INDUSTRYTYPE_BATTERY_FARM</li>
<li>INDUSTRYTYPE_COLA_WELLS</li>
<li>INDUSTRYTYPE_TOY_SHOP</li>
<li>INDUSTRYTYPE_TOY_FACTORY</li>
<li>INDUSTRYTYPE_PLASTIC_FOUNTAIN</li>
<li>INDUSTRYTYPE_FIZZY_DRINKS_FACTORY</li>
<li>INDUSTRYTYPE_BUBBLE_GENERATOR</li>
<li>INDUSTRYTYPE_TOFFE_QUARRY</li>
<li>INDUSTRYTYPE_SUGAR_MINE</li>
</ul><ul>
<li>INDUSTRYTYPE_UNKNOWN</li>
<li>INDUSTRYTYPE_TOWN</li>
</ul>

<h2><a name="refs-default-industrytiles">Default industry tiles</a></h2>
<table class="t">
<tr><td>00..06</td><td>coal mine</td></tr>
<tr><td>07..10</td><td>power station</td></tr>
<tr><td>11..15</td><td>sawmill</td></tr>
<tr><td>16..17</td><td>forest</td></tr>
<tr><td>18..23</td><td>oil refinery</td></tr>
<tr><td>24..28</td><td>oil rig</td></tr>
<tr><td>29..32</td><td>oil wells</td></tr>
<tr><td>33..38</td><td>farm</td></tr>
<tr><td>39..42</td><td>factory (temperate climate)</td></tr>
<tr><td>43..45</td><td>printing works</td></tr>
<tr><td>47..51</td><td>copper ore mine</td></tr>
<tr><td>52..57</td><td>steel mill</td></tr>
<tr><td>58..59</td><td>bank (temperate climate)</td></tr>
<tr><td>60..63</td><td>food processing plant</td></tr>
<tr><td>64..71</td><td>paper mill</td></tr>
<tr><td>72..88</td><td>gold mine</td></tr>
<tr><td>89..90</td><td>bank (sub-arctic or sub-tropical climate)</td></tr>
<tr><td>91..99</td><td>diamond mine</td></tr>
<tr><td>100..115</td><td>iron ore mine</td></tr>
<tr><td>116</td><td>fruit plantation</td></tr>
<tr><td>117</td><td>rubber plantation</td></tr>
<tr><td>118..119</td><td>water supply</td></tr>
<tr><td>120</td><td>water tower</td></tr>
<tr><td>121..124</td><td>factory (sub-tropical climate)</td></tr>
<tr><td>125..128</td><td>lumber mill</td></tr>
<tr><td>129..130</td><td>candyfloss forest</td></tr>
<tr><td>131..134</td><td>sweet factory</td></tr>
<tr><td>135..136</td><td>battery farm</td></tr>
<tr><td>137</td><td>cola wells</td></tr>
<tr><td>138..141</td><td>toy shop</td></tr>
<tr><td>142..147</td><td>toy factory</td></tr>
<tr><td>148..155</td><td>plastic fountains (various stages of cyclic animation)</td></tr>
<tr><td>156..159</td><td>fizzy drink factory</td></tr>
<tr><td>160..163</td><td>bubble generator</td></tr>
<tr><td>164..166</td><td>toffee quarry</td></tr>
<tr><td>167..174</td><td>sugar mine</td></tr>
</table>

<h2><a name="refs-basecost-table">Base cost table</a></h2>
<table class="t">
<tr><th>Number<th>Identifier<th>Category<th>Default value<th>Version<th>Remarks
<tr><td>0<td>PR_STATION_VALUE<td>-<td>100<td><td>Used for some misc. purposes
<tr><td>1<td>PR_BUILD_RAIL<td>PR_CONSTRUCTION<td>100<td><td>
<tr><td>2<td>PR_BUILD_ROAD<td>PR_CONSTRUCTION<td>95<td><td>
<tr><td>3<td>PR_BUILD_SIGNALS<td>PR_CONSTRUCTION<td>65<td><td>
<tr><td>4<td>PR_BUILD_BRIDGE<td>PR_CONSTRUCTION<td>275<td><td>
<tr><td>5<td>PR_BUILD_DEPOT_TRAIN<td>PR_CONSTRUCTION<td>600<td><td>Affects PR_BUILD_WAYPOINT_RAIL
<tr><td>6<td>PR_BUILD_DEPOT_ROAD<td>PR_CONSTRUCTION<td>500<td><td>
<tr><td>7<td>PR_BUILD_DEPOT_SHIP<td>PR_CONSTRUCTION<td>700<td><td>
<tr><td>8<td>PR_BUILD_TUNNEL<td>PR_CONSTRUCTION<td>450<td><td>
<tr><td>9<td>PR_BUILD_STATION_RAIL<td>PR_CONSTRUCTION<td>200<td><td>Cost per tile
<tr><td>10<td>PR_BUILD_STATION_RAIL_LENGTH<td>PR_CONSTRUCTION<td>180<td><td>Cost per platform
<tr><td>11<td>PR_BUILD_STATION_AIRPORT<td>PR_CONSTRUCTION<td>600<td><td>
<tr><td>12<td>PR_BUILD_STATION_BUS<td>PR_CONSTRUCTION<td>200<td><td>
<tr><td>13<td>PR_BUILD_STATION_TRUCK<td>PR_CONSTRUCTION<td>200<td><td>
<tr><td>14<td>PR_BUILD_STATION_DOCK<td>PR_CONSTRUCTION<td>350<td><td>Affects PR_BUILD_WAYPOINT_BUOY
<tr><td>15<td>PR_BUILD_VEHICLE_TRAIN<td>PR_BUILD_VEHICLE<td>400000<td><td>
<tr><td>16<td>PR_BUILD_VEHICLE_WAGON<td>PR_BUILD_VEHICLE<td>2000<td><td>
<tr><td>17<td>PR_BUILD_VEHICLE_AIRCRAFT<td>PR_BUILD_VEHICLE<td>700000<td><td>
<tr><td>18<td>PR_BUILD_VEHICLE_ROAD<td>PR_BUILD_VEHICLE<td>14000<td><td>
<tr><td>19<td>PR_BUILD_VEHICLE_SHIP<td>PR_BUILD_VEHICLE<td>65000<td><td>
<tr><td>20<td>PR_BUILD_TREES<td>PR_CONSTRUCTION<td>20<td><td>
<tr><td>21<td>PR_TERRAFORM<td>PR_CONSTRUCTION<td>250<td><td>Affects PR_BUILD_FOUNDATION
<tr><td>22<td>PR_CLEAR_GRASS<td>PR_CONSTRUCTION<td>20<td><td>
<tr><td>23<td>PR_CLEAR_ROUGH<td>PR_CONSTRUCTION<td>40<td><td>Affects PR_*_UNMOVABLE
<tr><td>24<td>PR_CLEAR_ROCKS<td>PR_CONSTRUCTION<td>200<td><td>
<tr><td>25<td>PR_CLEAR_FIELDS<td>PR_CONSTRUCTION<td>500<td><td>
<tr><td>26<td>PR_CLEAR_TREES<td>PR_CONSTRUCTION<td>20<td><td>
<tr><td>27<td>PR_CLEAR_RAIL<td>PR_CONSTRUCTION<td>-70<td><td>
<tr><td>28<td>PR_CLEAR_SIGNALS<td>PR_CONSTRUCTION<td>10<td><td>
<tr><td>29<td>PR_CLEAR_BRIDGE<td>PR_CONSTRUCTION<td>50<td><td>Affects PR_CLEAR_AQUEDUCT
<tr><td>30<td>PR_CLEAR_DEPOT_TRAIN<td>PR_CONSTRUCTION<td>80<td><td>Affects PR_CLEAR_WAYPOINT_RAIL
<tr><td>31<td>PR_CLEAR_DEPOT_ROAD<td>PR_CONSTRUCTION<td>80<td><td>
<tr><td>32<td>PR_CLEAR_DEPOT_SHIP<td>PR_CONSTRUCTION<td>90<td><td>
<tr><td>33<td>PR_CLEAR_TUNNEL<td>PR_CONSTRUCTION<td>30<td><td>
<tr><td>34<td>PR_CLEAR_WATER<td>PR_CONSTRUCTION<td>10000<td><td>Affects PR_*_CANAL, PR_*_LOCK and PR_BUILD_AQUEDUCT
<tr><td>35<td>PR_CLEAR_STATION_RAIL<td>PR_CONSTRUCTION<td>50<td><td>
<tr><td>36<td>PR_CLEAR_STATION_AIRPORT<td>PR_CONSTRUCTION<td>30<td><td>
<tr><td>37<td>PR_CLEAR_STATION_BUS<td>PR_CONSTRUCTION<td>50<td><td>
<tr><td>38<td>PR_CLEAR_STATION_TRUCK<td>PR_CONSTRUCTION<td>50<td><td>Affects PR_CLEAR_WAYPOINT_BUOY
<tr><td>39<td>PR_CLEAR_STATION_DOCK<td>PR_CONSTRUCTION<td>55<td><td>
<tr><td>40<td>PR_CLEAR_HOUSE<td>PR_CONSTRUCTION<td>1600<td><td>Affects PR_CLEAR_INDUSTRY
<tr><td>41<td>PR_CLEAR_ROAD<td>PR_CONSTRUCTION<td>40<td><td>
<tr><td>42<td>PR_RUNNING_TRAIN_STEAM<td>PR_RUNNING<td>5600<td><td>
<tr><td>43<td>PR_RUNNING_TRAIN_DIESEL<td>PR_RUNNING<td>5200<td><td>
<tr><td>44<td>PR_RUNNING_TRAIN_ELECTRIC<td>PR_RUNNING<td>4800<td><td>
<tr><td>45<td>PR_RUNNING_AIRCRAFT<td>PR_RUNNING<td>9600<td><td>
<tr><td>46<td>PR_RUNNING_ROADVEH<td>PR_RUNNING<td>1600<td><td>
<tr><td>47<td>PR_RUNNING_SHIP<td>PR_RUNNING<td>5600<td><td>
<tr><td>48<td>PR_BUILD_INDUSTRY<td>PR_CONSTRUCTION<td>1000000<td><td>Affects PR_TOWN_ACTION, PR_BUILD_INDUSTRY_RAW and PR_BUILD_TOWN
<tr><td>49<td>PR_CLEAR_INDUSTRY<td>PR_CONSTRUCTION<td>1600<td>OTTD r18283<td>Affected by PR_CLEAR_HOUSE
<tr><td>50<td>PR_BUILD_UNMOVABLE<td>PR_CONSTRUCTION<td>40<td>OTTD r18283<td>Affected by PR_CLEAR_ROUGH
<tr><td>51<td>PR_CLEAR_UNMOVABLE<td>PR_CONSTRUCTION<td>40<td>OTTD r18283<td>Affected by PR_CLEAR_ROUGH
<tr><td>52<td>PR_BUILD_WAYPOINT_RAIL<td>PR_CONSTRUCTION<td>600<td>OTTD r18283<td>Affected by PR_BUILD_DEPOT_TRAIN
<tr><td>53<td>PR_CLEAR_WAYPOINT_RAIL<td>PR_CONSTRUCTION<td>80<td>OTTD r18283<td>Affected by PR_CLEAR_DEPOT_TRAIN
<tr><td>54<td>PR_BUILD_WAYPOINT_BUOY<td>PR_CONSTRUCTION<td>350<td>OTTD r18283<td>Affected by PR_BUILD_STATION_DOCK
<tr><td>55<td>PR_CLEAR_WAYPOINT_BUOY<td>PR_CONSTRUCTION<td>50<td>OTTD r18283<td>Affected by PR_CLEAR_WAYPOINT_BUOY
<tr><td>56<td>PR_TOWN_ACTION<td>PR_CONSTRUCTION<td>1000000<td>OTTD r18283<td>Interactions with local authority, affected by PR_BUILD_INDUSTRY
<tr><td>57<td>PR_BUILD_FOUNDATION<td>PR_CONSTRUCTION<td>250<td>OTTD r18283<td>Affected by PR_BUILD_FOUNDATION
<tr><td>58<td>PR_BUILD_INDUSTRY_RAW<td>PR_CONSTRUCTION<td>8000000<td>OTTD r18283<td>Directly building (not prospecting) raw industries, affected by PR_BUILD_INDUSTRY
<tr><td>59<td>PR_BUILD_TOWN<td>PR_CONSTRUCTION<td>1000000<td>OTTD r18283<td>Affected by PR_BUILD_INDUSTRY
<tr><td>60<td>PR_BUILD_CANAL<td>PR_CONSTRUCTION<td>5000<td>OTTD r19720<td>Affected by PR_CLEAR_WATER
<tr><td>61<td>PR_CLEAR_CANAL<td>PR_CONSTRUCTION<td>5000<td>OTTD r19720<td>Affected by PR_CLEAR_WATER
<tr><td>62<td>PR_BUILD_AQUEDUCT<td>PR_CONSTRUCTION<td>10000<td>OTTD r19720<td>Affected by PR_CLEAR_WATER
<tr><td>63<td>PR_CLEAR_AQUEDUCT<td>PR_CONSTRUCTION<td>2000<td>OTTD r19720<td>Affected by PR_CLEAR_BRIDGE
<tr><td>64<td>PR_BUILD_LOCK<td>PR_CONSTRUCTION<td>7500<td>OTTD r19720<td>Affected by PR_CLEAR_WATER
<tr><td>65<td>PR_CLEAR_LOCK<td>PR_CONSTRUCTION<td>2000<td>OTTD r19720<td>Affected by PR_CLEAR_WATER
</table>

<h2><a name="refs-sounds">List of sound effects</a></h2>
<ul>
<li>SOUND_SPLAT</li>
<li>SOUND_FACTORY_WHISTLE</li>
<li>SOUND_TRAIN</li>
<li>SOUND_TRAIN_THROUGH_TUNNEL</li>
<li>SOUND_SHIP_HORN</li>
<li>SOUND_FERRY_HORN</li>
<li>SOUND_PLANE_TAKE_OFF</li>
<li>SOUND_JET</li>
<li>SOUND_TRAIN_HORN</li>
<li>SOUND_MINING_MACHINERY</li>
<li>SOUND_ELECTRIC_SPARK</li>
<li>SOUND_STEAM</li>
<li>SOUND_LEVEL_CROSSING</li>
<li>SOUND_VEHICLE_BREAKDOWN</li>
<li>SOUND_TRAIN_BREAKDOWN</li>
<li>SOUND_CRASH</li>
<li>SOUND_EXPLOSION</li>
<li>SOUND_BIG_CRASH</li>
<li>SOUND_CASHTILL</li>
<li>SOUND_BEEP</li>
<li>SOUND_MORSE</li>
<li>SOUND_SKID_PLANE</li>
<li>SOUND_HELICOPTER</li>
<li>SOUND_BUS_START_PULL_AWAY</li>
<li>SOUND_BUS_START_PULL_AWAY_WITH_HORN</li>
<li>SOUND_TRUCK_START</li>
<li>SOUND_TRUCK_START_2</li>
<li>SOUND_APPLAUSE</li>
<li>SOUND_OOOOH</li>
<li>SOUND_SPLAT</li>
<li>SOUND_SPLAT_2</li>
<li>SOUND_JACKHAMMER</li>
<li>SOUND_CAR_HORN</li>
<li>SOUND_CAR_HORN_2</li>
<li>SOUND_SHEEP</li>
<li>SOUND_COW</li>
<li>SOUND_HORSE</li>
<li>SOUND_BLACKSMITH_ANVIL</li>
<li>SOUND_SAWMILL</li>
<li>SOUND_GOOD_YEAR</li>
<li>SOUND_BAD_YEAR</li>
<li>SOUND_RIP</li>
<li>SOUND_EXTRACT_AND_POP</li>
<li>SOUND_COMEDY_HIT</li>
<li>SOUND_MACHINERY</li>
<li>SOUND_RIP_2</li>
<li>SOUND_EXTRACT_AND_POP</li>
<li>SOUND_POP</li>
<li>SOUND_CARTOON_SOUND</li>
<li>SOUND_EXTRACT</li>
<li>SOUND_POP_2</li>
<li>SOUND_PLASTIC_MINE</li>
<li>SOUND_WIND</li>
<li>SOUND_COMEDY_BREAKDOWN</li>
<li>SOUND_CARTOON_CRASH</li>
<li>SOUND_BALLOON_SQUEAK</li>
<li>SOUND_CHAINSAW</li>
<li>SOUND_HEAVY_WIND</li>
<li>SOUND_COMEDY_BREAKDOWN_2</li>
<li>SOUND_JET_OVERHEAD</li>
<li>SOUND_COMEDY_CAR</li>
<li>SOUND_ANOTHER_JET_OVERHEAD</li>
<li>SOUND_COMEDY_CAR_2</li>
<li>SOUND_COMEDY_CAR_3</li>
<li>SOUND_COMEDY_CAR_START_AND_PULL_AWAY</li>
<li>SOUND_MAGLEV</li>
<li>SOUND_LOON_BIRD</li>
<li>SOUND_LION</li>
<li>SOUND_MONKEYS</li>
<li>SOUND_PLANE_CRASHING</li>
<li>SOUND_PLANE_ENGINE_SPUTTERING</li>
<li>SOUND_MAGLEV_2</li>
<li>SOUND_DISTANT_BIRD</li>
</ul>

<h2><a name="refs-vehicleIDs">List of default vehicle IDs</a></h2>
<h3><a name="refs-vehicleIDs-rail-engines">List of default rail engines</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor<th>speed (km/h)<th>power (hp)<th>running_cost_factor
<tr><td>0<td>Kirby Paul Tank (Steam)        <td>47<td>0<td>7<td>64<td>300<td>50
<tr><td>1<td>MJS 250 (Diesel)               <td>65<td>0<td>8<td>80<td>600<td>65
<tr><td>2<td>Ploddyphut Choo-Choo           <td>90<td>0<td>10<td>72<td>400<td>90

<tr><td>3<td>Powernaut Choo-Choo            <td>130<td>0<td>15<td>96<td>900<td>130
<tr><td>4<td>Mightymover Choo-Choo          <td>140<td>0<td>19<td>112<td>1000<td>145
<tr><td>5<td>Ploddyphut Diesel              <td>95<td>0<td>16<td>120<td>1400<td>125
<tr><td>6<td>Powernaut Diesel               <td>120<td>0<td>20<td>152<td>2000<td>135
<tr><td>7<td>Wills 2-8-0 (Steam)            <td>145<td>0<td>14<td>88<td>1100<td>130
<tr><td>8<td>Chaney 'Jubilee' (Steam)       <td>131<td>0<td>13<td>112<td>1000<td>120

<tr><td>9<td>Ginzu 'A4' (Steam)             <td>162<td>0<td>19<td>128<td>1200<td>140
<tr><td>10<td>SH '8P' (Steam)               <td>170<td>0<td>22<td>144<td>1600<td>130
<tr><td>11<td>Manley-Morel DMU (Diesel)     <td>32<td>38<td>11<td>112<td>600<td>85
<tr><td>12<td>'Dash' (Diesel)               <td>38<td>40<td>14<td>120<td>700<td>70
<tr><td>13<td>SH/Hendry '25' (Diesel)       <td>72<td>0<td>15<td>128<td>1250<td>95
<tr><td>14<td>UU '37' (Diesel)              <td>101<td>0<td>17<td>144<td>1750<td>120

<tr><td>15<td>Floss '47' (Diesel)           <td>112<td>0<td>18<td>160<td>2580<td>140
<tr><td>16<td>CS 4000 (Diesel)              <td>150<td>0<td>23<td>96<td>4000<td>135
<tr><td>17<td>CS 2400 (Diesel)              <td>120<td>0<td>16<td>112<td>2400<td>105
<tr><td>18<td>Centennial (Diesel)           <td>207<td>0<td>30<td>112<td>6600<td>155
<tr><td>19<td>Kelling 3100 (Diesel)         <td>110<td>0<td>18<td>104<td>1500<td>105
<tr><td>20<td>Turner Turbo (Diesel)         <td>95<td>0<td>35<td>160<td>3500<td>205

<tr><td>21<td>MJS 1000 (Diesel)             <td>120<td>0<td>21<td>104<td>2200<td>145
<tr><td>22<td>SH '125' (Diesel)             <td>70<td>4<td>20<td>200<td>4500<td>190
<tr><td>23<td>SH '30' (Electric)            <td>84<td>0<td>26<td>160<td>3600<td>180
<tr><td>24<td>SH '40' (Electric)            <td>82<td>0<td>30<td>176<td>5000<td>205
<tr><td>25<td>'T.I.M.' (Electric)           <td>90<td>0<td>40<td>240<td>7000<td>240
<tr><td>26<td>'AsiaStar' (Electric)         <td>95<td>0<td>43<td>264<td>8000<td>250
</table>
<h3><a name="refs-vehicleIDs-rail-wagons">List of default rail wagons</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor
<tr><td>27<td>Passenger Carriage    <td>25<td>40<td>247
<tr><td>28<td>Mail Van              <td>21<td>30<td>228
<tr><td>29<td>Coal Truck            <td>18<td>30<td>176
<tr><td>30<td>Oil Tanker            <td>24<td>30<td>200

<tr><td>31<td>Livestock Van         <td>20<td>25<td>192
<tr><td>32<td>Goods Van             <td>21<td>25<td>190
<tr><td>33<td>Grain Hopper          <td>19<td>30<td>182
<tr><td>34<td>Wood Truck            <td>16<td>30<td>181
<tr><td>35<td>Iron Ore Hopper       <td>19<td>30<td>179
<tr><td>36<td>Steel Truck           <td>18<td>20<td>196

<tr><td>37<td>Armoured Van          <td>30<td>20<td>255
<tr><td>38<td>Food Van              <td>22<td>25<td>191
<tr><td>39<td>Paper Truck           <td>18<td>20<td>196
<tr><td>40<td>Copper Ore Hopper     <td>19<td>30<td>179
<tr><td>41<td>Water Tanker          <td>25<td>25<td>199
<tr><td>42<td>Fruit Truck           <td>18<td>25<td>182

<tr><td>43<td>Rubber Truck          <td>19<td>21<td>185
<tr><td>44<td>Sugar Truck           <td>19<td>30<td>176
<tr><td>45<td>Candyfloss Hopper     <td>20<td>30<td>178
<tr><td>46<td>Toffee Hopper         <td>20<td>30<td>192
<tr><td>47<td>Bubble Van            <td>21<td>20<td>190
<tr><td>48<td>Cola Tanker           <td>24<td>25<td>182

<tr><td>49<td>Sweet Van             <td>21<td>25<td>181
<tr><td>50<td>Toy Van               <td>21<td>20<td>183
<tr><td>51<td>Battery Truck         <td>18<td>22<td>196
<tr><td>52<td>Fizzy Drink Truck     <td>18<td>25<td>193
<tr><td>53<td>Plastic Truck         <td>18<td>30<td>191
</table>

<h3><a name="refs-vehicleIDs-monorail-engines">List of default monorail engines</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor<th>speed (km/h)<th>power (hp)<th>running_cost_factor
<tr><td>54<td>'X2001' (Electric)            <td>95<td>0<td>52<td>304<td>9000<td>230
<tr><td>55<td>'Millennium Z1' (Electric)    <td>85<td>25<td>60<td>336<td>10000<td>240
<tr><td>56<td>Wizzowow Z99                  <td>95<td>0<td>53<td>320<td>5000<td>230
</table>

<h3><a name="refs-vehicleIDs-monorail-wagons">List of default monorail wagons</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor
<tr><td>57<td>Passenger Carriage    <td>25<td>45<td>247
<tr><td>58<td>Mail Van              <td>21<td>35<td>228
<tr><td>59<td>Coal Truck            <td>18<td>35<td>176
<tr><td>60<td>Oil Tanker            <td>24<td>35<td>200
<tr><td>61<td>Livestock Van         <td>20<td>30<td>192
<tr><td>62<td>Goods Van             <td>21<td>30<td>190

<tr><td>63<td>Grain Hopper          <td>19<td>35<td>182
<tr><td>64<td>Wood Truck            <td>16<td>35<td>181
<tr><td>65<td>Iron Ore Hopper       <td>19<td>35<td>179
<tr><td>66<td>Steel Truck           <td>18<td>25<td>196
<tr><td>67<td>Armoured Van          <td>30<td>25<td>255
<tr><td>68<td>Food Van              <td>22<td>30<td>192

<tr><td>69<td>Paper Truck           <td>18<td>25<td>196
<tr><td>70<td>Copper Ore Hopper     <td>19<td>35<td>179
<tr><td>71<td>Water Tanker          <td>25<td>30<td>199
<tr><td>72<td>Fruit Truck           <td>18<td>30<td>182
<tr><td>73<td>Rubber Truck          <td>19<td>26<td>185
<tr><td>74<td>Sugar Truck           <td>19<td>25<td>176

<tr><td>75<td>Candyfloss Hopper     <td>20<td>35<td>178
<tr><td>76<td>Toffee Hopper         <td>20<td>35<td>192
<tr><td>77<td>Bubble Van            <td>21<td>25<td>190
<tr><td>78<td>Cola Tanker           <td>24<td>30<td>182
<tr><td>79<td>Sweet Van             <td>21<td>30<td>181
<tr><td>80<td>Toy Van               <td>21<td>25<td>183

<tr><td>81<td>Battery Truck         <td>18<td>27<td>196
<tr><td>82<td>Fizzy Drink Truck     <td>18<td>30<td>193
<tr><td>83<td>Plastic Truck         <td>18<td>35<td>191
</table>

<h3><a name="refs-vehicleIDs-maglev-engines">List of default maglev engines</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor<th>speed (km/h)<th>power (hp)<th>running_cost_factor
<tr><td>84<td>Lev1 'Leviathan' (Electric)   <td>105<td>0<td>70<td>400<td>10000<td>250

<tr><td>85<td>Lev2 'Cyclops' (Electric)     <td>120<td>0<td>74<td>448<td>12000<td>253
<tr><td>86<td>Lev3 'Pegasus' (Electric)     <td>130<td>0<td>82<td>480<td>15000<td>254
<tr><td>87<td>Lev4 'Chimaera' (Electric)    <td>150<td>0<td>95<td>640<td>20000<td>255
<tr><td>88<td>Wizzowow Rocketeer            <td>120<td>0<td>70<td>480<td>10000<td>250
</table>

<h3><a name="refs-vehicleIDs-maglev-wagons">List of default maglev wagons</a></h3>
<table class="t">
<tr><th>Number<th>Name<th>weight (ton)<th>cargo_capacity<th>cost_factor
<tr><td>89<td>Passenger Carriage    <td>25<td>47<td>247
<tr><td>90<td>Mail Van              <td>21<td>37<td>228
<tr><td>91<td>Coal Truck            <td>18<td>37<td>176
<tr><td>92<td>Oil Tanker            <td>24<td>37<td>200
<tr><td>93<td>Livestock Van         <td>20<td>32<td>192
<tr><td>94<td>Goods Van             <td>21<td>32<td>190

<tr><td>95<td>Grain Hopper          <td>19<td>37<td>182
<tr><td>96<td>Wood Truck            <td>16<td>37<td>181
<tr><td>97<td>Iron Ore Hopper       <td>19<td>37<td>179
<tr><td>98<td>Steel Truck           <td>18<td>27<td>196
<tr><td>99<td>Armoured Van          <td>30<td>27<td>255
<tr><td>100<td>Food Van             <td>22<td>32<td>191

<tr><td>101<td>Paper Truck          <td>18<td>27<td>196
<tr><td>102<td>Copper Ore Hopper    <td>19<td>37<td>179
<tr><td>103<td>Water Tanker         <td>25<td>32<td>199
<tr><td>104<td>Fruit Truck          <td>18<td>32<td>182
<tr><td>105<td>Rubber Truck         <td>19<td>28<td>185
<tr><td>106<td>Sugar Truck          <td>19<td>37<td>176

<tr><td>107<td>Candyfloss Hopper    <td>20<td>37<td>178
<tr><td>108<td>Toffee Hopper        <td>20<td>37<td>192
<tr><td>109<td>Bubble Van           <td>21<td>27<td>190
<tr><td>110<td>Cola Tanker          <td>24<td>32<td>182
<tr><td>111<td>Sweet Van            <td>21<td>32<td>181
<tr><td>112<td>Toy Van              <td>21<td>27<td>183

<tr><td>113<td>Battery Truck        <td>18<td>29<td>196
<tr><td>114<td>Fizzy Drink Truck    <td>18<td>32<td>193
<tr><td>115<td>Plastic Truck        <td>18<td>37<td>191
</table>

<h3><a name="refs-vehicleIDs-busses">List of default busses</a></h3>
<table class="t">
<tr><th>Number<th>Name
<tr><td>00<td>MPS Regal Bus

<tr><td>01<td>Hereford Leopard Bus
<tr><td>02<td>Foster Bus
<tr><td>03<td>Foster MkII Superbus
<tr><td>04<td>Ploddyphut MkI Bus
<tr><td>05<td>Ploddyphut MkII Bus
<tr><td>06<td>Ploddyphut MkIII Bus</table>

<h3><a name="refs-vehicleIDs-trucks">List of default trucks</a></h3>
<table class="t">
<tr><th>Number<th>Name
<tr><td>07<td>Balogh Coal Truck
<tr><td>08<td>Uhl Coal Truck
<tr><td>09<td>DW Coal Truck
<tr><td>10<td>MPS Mail Truck

<tr><td>11<td>Reynard Mail Truck
<tr><td>12<td>Perry Mail Truck
<tr><td>13<td>MightyMover Mail Truck
<tr><td>14<td>Powernaught Mail Truck
<tr><td>15<td>Wizzowow Mail Truck
<tr><td>16<td>Witcombe Oil Tanker

<tr><td>17<td>Foster Oil Tanker
<tr><td>18<td>Perry Oil Tanker
<tr><td>19<td>Talbott Livestock Van
<tr><td>20<td>Uhl Livestock Van
<tr><td>21<td>Foster Livestock Van
<tr><td>22<td>Balogh Goods Truck

<tr><td>23<td>Craighead Goods Truck
<tr><td>24<td>Goss Goods Truck
<tr><td>25<td>Hereford Grain Truck
<tr><td>26<td>Thomas Grain Truck
<tr><td>27<td>Goss Grain Truck
<tr><td>28<td>Witcombe Wood Truck

<tr><td>29<td>Foster Wood Truck
<tr><td>30<td>Moreland Wood Truck
<tr><td>31<td>MPS Iron Ore Truck
<tr><td>32<td>Uhl Iron Ore Truck
<tr><td>33<td>Chippy Iron Ore Truck
<tr><td>34<td>Balogh Steel Truck

<tr><td>35<td>Uhl Steel Truck
<tr><td>36<td>Kelling Steel Truck
<tr><td>37<td>Balogh Armoured Truck
<tr><td>38<td>Uhl Armoured Truck
<tr><td>39<td>Foster Armoured Truck
<tr><td>40<td>Foster Food Van

<tr><td>41<td>Perry Food Van
<tr><td>42<td>Chippy Food Van
<tr><td>43<td>Uhl Paper Truck
<tr><td>44<td>Balogh Paper Truck
<tr><td>45<td>MPS Paper Truck
<tr><td>46<td>MPS Copper Ore Truck

<tr><td>47<td>Uhl Copper Ore Truck
<tr><td>48<td>Goss Copper Ore Truck
<tr><td>49<td>Uhl Water Tanker
<tr><td>50<td>Balogh Water Tanker
<tr><td>51<td>MPS Water Tanker
<tr><td>52<td>Balogh Fruit Truck

<tr><td>53<td>Uhl Fruit Truck
<tr><td>54<td>Kelling Fruit Truck
<tr><td>55<td>Balogh Rubber Truck
<tr><td>56<td>Uhl Rubber Truck
<tr><td>57<td>RMT Rubber Truck

<tr><td>58<td>MightyMover Sugar Truck
<tr><td>59<td>Powernaught Sugar Truck
<tr><td>60<td>Wizzowow Sugar Truck
<tr><td>61<td>MightyMover Cola Truck
<tr><td>62<td>Powernaught Cola Truck

<tr><td>63<td>Wizzowow Cola Truck
<tr><td>64<td>MightyMover Candyfloss Truck
<tr><td>65<td>Powernaught Candyfloss Truck
<tr><td>66<td>Wizzowow Candyfloss Truck
<tr><td>67<td>MightyMover Toffee Truck
<tr><td>68<td>Powernaught Toffee Truck

<tr><td>69<td>Wizzowow Toffee Truck
<tr><td>70<td>MightyMover Toy Van
<tr><td>71<td>Powernaught Toy Van
<tr><td>72<td>Wizzowow Toy Van
<tr><td>73<td>MightyMover Sweet Lorry
<tr><td>74<td>Powernaught Sweet Lorry

<tr><td>75<td>Wizzowow Sweet Lorry
<tr><td>76<td>MightyMover Battery Truck
<tr><td>77<td>Powernaught Battery Truck
<tr><td>78<td>Wizzowow Battery Truck
<tr><td>79<td>MightyMover Fizzy Drink Truck
<tr><td>80<td>Powernaught Fizzy Drink Truck

<tr><td>81<td>Wizzowow Fizzy Drink Truck
<tr><td>82<td>MightyMover Plastic Truck
<tr><td>83<td>Powernaught Plastic Truck
<tr><td>84<td>Wizzowow Plastic Truck
<tr><td>85<td>MightyMover Bubble Truck
<tr><td>86<td>Powernaught Bubble Truck

<tr><td>87<td>Wizzowow Bubble Truck</table>

<h3><a name="refs-vehicleIDs-ships">List of default ships</a></h3>
<table class="t">
<tr><th>Number<th>Name
<tr><td>0<td>MPS Oil Tanker
<tr><td>1<td>CS-Inc. Oil Tanker
<tr><td>2<td>MPS Passenger Ferry

<tr><td>3<td>FFP Passenger Ferry
<tr><td>4<td>Bakewell 300 Hovercraft
<tr><td>5<td>Chugger-Chug Passenger Ferry
<tr><td>6<td>Shivershake Passenger Ferry
<tr><td>7<td>Yate Cargo ship
<tr><td>8<td>Bakewell Cargo ship

<tr><td>9<td>Mightymover Cargo ship
<tr><td>10<td>Powernaut Cargo ship</table>

<h3><a name="refs-vehicleIDs-planes">List of default planes</a></h3>
<table class="t">
<tr><th>Number<th>Name
<tr><td>00<td>Sampson U52
<tr><td>01<td>Coleman Count

<tr><td>02<td>FFP Dart
<tr><td>03<td>Yate Haugan
<tr><td>04<td>Bakewell Cotswald LB-3
<tr><td>05<td>Bakewell Luckett LB-8
<tr><td>06<td>Bakewell Luckett LB-9
<tr><td>07<td>Bakewell Luckett LB80

<tr><td>08<td>Bakewell Luckett LB-10
<tr><td>09<td>Bakewell Luckett LB-11
<tr><td>10<td>Yate Aerospace YAC 1-11
<tr><td>11<td>Darwin 100
<tr><td>12<td>Darwin 200
<tr><td>13<td>Darwin 300

<tr><td>14<td>Darwin 400
<tr><td>15<td>Darwin 500
<tr><td>16<td>Darwin 600
<tr><td>17<td>Guru Galaxy
<tr><td>18<td>Airtaxi A21
<tr><td>19<td>Airtaxi A31

<tr><td>20<td>Airtaxi A32
<tr><td>21<td>Airtaxi A33
<tr><td>22<td>Yate Aerospace YAe46
<tr><td>23<td>Dinger 100
<tr><td>24<td>AirTaxi A34-1000
<tr><td>25<td>Yate Z-Shuttle

<tr><td>26<td>Kelling K1
<tr><td>27<td>Kelling K6
<tr><td>28<td>Kelling K7
<tr><td>29<td>Darwin 700
<tr><td>30<td>FFP Hyperdart 2
<tr><td>31<td>Dinger 200

<tr><td>32<td>Dinger 1000
<tr><td>33<td>Ploddyphut 100
<tr><td>34<td>Ploddyphut 500
<tr><td>35<td>Flashbang X1
<tr><td>36<td>Juggerplane M1
<tr><td>37<td>Flashbang Wizzer</table>

<h3><a name="refs-vehicleIDs-helicopters">List of default helicopters</a></h3>
<table class="t">
<tr><th>Number<th>Name
<tr><td>38<td>Tricario Helicopter
<tr><td>39<td>Guru X2 Helicopter
<tr><td>40<td>Powernaut Helicopter</table>

<h2><a name="refs-houseProperties">List of default houses and their properties</a></h2>

<table class="t">

<tr><th>Number<td>Name<td>Climate<td>Town<br>zones<td>Flags<td>Minimum<br>year<br>built<td>Last<br>year<br>built<td>Population<td>Mail<br>generation<td>Passenger<br>acceptance<td>Mail<br>acceptance
<td>Goods<br>acceptance<td>Remove<br>ratings<br>decrease<td>Remove<br>cost<br>multiplier
<tr><td>00<td>tall office block<td>temperate<td>CENTRE<td>SIZE_1x1<td>1963 <td>none<td>187<td>70<td>8<td>3<td>4<td>140<td>150
<tr><td>01<td>office block<td>temperate<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1957<td>none<td>85<td>55 <td>8<td>3<td>4<td>130<td>140
<tr><td>02<td>small block of flats<td>temperate <td>OUTSKIRT .. INNER_SUBURB<td>SIZE_1x1<td>1968<td>none<td>40<td>20<td>8<td>3<td>1 <td>90<td>100
<tr><td>03<td>church<td>temperate<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930 <td>none<td>5<td>2<td>2<td>0<td>0<td>230<td>90
<tr><td>04<td>large office block<td>temperate, sub-arctic, subtropical<td>CENTRE<td>SIZE_1x1, ANIMATE<td>1975<td>none<td>220<td>85<td>10<td>4<td>6<td>160<td>160
<tr><td>05<td>large office block<td>snow <td>CENTRE<td>SIZE_1x1, ANIMATE<td>1975<td>none<td>220<td>85<td>10<td>4<td>6 <td>160<td>160
<tr><td>06<td>town houses<td>temperate<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>30<td>12<td>4<td>1<td>0<td>80<td>80 
<tr><td>07<td>hotel (N part)<td>temperate<td>OUTER_SUBURB, CENTRE<td>SIZE_1x2<td>1959<td>none<td>140<td>22 <td>6<td>1<td>2<td>150<td>180
<tr><td>08<td>hotel (E part)<td><td><td>N/A<td>1959<td>none<td>0<td>22<td>6<td>1<td>2<td>150 <td>180
<tr><td>09<td>statue<td>temperate, sub-arctic, subtropical<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1945<td>none <td>0<td>0<td>2<td>0<td>0<td>40<td>65
<tr><td>10 <td>fountain <td>temperate, sub-arctic, subtropical<td>CENTRE<td>SIZE_1x1<td>1945<td>none<td>0<td>0<td>2 <td>0<td>0<td>40<td>65
<tr><td>11<td>park (with a pond)<td>temperate<td>OUTER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>0<td>0<td>2<td>0<td>0<td>75 <td>60
<tr><td>12<td>park (with an alley)<td>temperate<td>INNER_SUBURB<td>SIZE_1x1<td>1935<td>none<td>0<td>0<td>2<td>0<td>0<td>75<td>60 
<tr><td>13 <td>office block <td>temperate<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1951<td>none<td>150<td>65<td>8 <td>2<td>4<td>110<td>130
<tr><td>14<td>shops and offices 1<td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1960<td>95<td>48<td>6<td>2<td>3<td>100 <td>110
<tr><td>15<td>shops and offices 2<td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1960 <td>95<td>48<td>6<td>2<td>3<td>100<td>105
<tr><td>16 <td>shops and offices 3 <td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1960<td>95<td>48<td>6 <td>2<td>3<td>100<td>107
<tr><td>17<td>modern office building<td>temperate, sub-arctic, subtropical<td>CENTRE<td>SIZE_1x1<td>1977<td>none<td>130<td>50<td>10<td>3<td>6<td>150 <td>200
<tr><td>18<td>warehouse<td>temperate<td>CENTRE<td>SIZE_1x1<td>1983<td>none <td>6<td>10<td>6<td>3<td>8<td>110<td>145
<tr><td>19 <td>office block (with spiral stairway) <td>temperate<td>CENTRE<td>SIZE_1x1<td>1985<td>none<td>110<td>55<td>6<td>2<td>6<td>110<td>155
<tr><td>20<td>stadium (N part)<td>temperate<td>EDGE ... INNER_SUBURB<td>SIZE_2x2<td>1930<td>none<td>65<td>5<td>4<td>0<td>0<td>300 <td>250
<tr><td>21<td>stadium (E part)<td><td><td>N/A<td>1930<td>none<td>0 <td>5<td>4<td>0<td>0<td>300<td>250
<tr><td>22<td>stadium (W part) <td><td><td>N/A<td>1930<td>none<td>0<td>5<td>4<td>0<td>0 <td>300<td>250
<tr><td>23<td>stadium (S part)<td><td><td>N/A<td>1930<td>none <td>0<td>5<td>4<td>0<td>0<td>300<td>250
<tr><td>24<td>old houses <td>temperate<td>EDGE, OUTSKIRT<td>SIZE_1x1<td>1930<td>1951<td>15<td>6<td>3 <td>1<td>0<td>75<td>70
<tr><td>25<td>cottages<td>temperate<td>EDGE<td>SIZE_1x1<td>1930<td>1952<td>12<td>7<td>3<td>1<td>0<td>75   <td>75
<tr><td>26<td>houses<td>temperate<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1931<td>none <td>13<td>8<td>3<td>1<td>0<td>75<td>71
<tr><td>27<td>flats <td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1935<td>none<td>100<td>35<td>7  <td>2<td>2<td>100<td>135
<tr><td>28<td>tall office block<td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1963<td>none<td>170<td>50<td>8<td>3<td>3<td>170 <td>145
<tr><td>29<td>shops and offices<td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1955 <td>100<td>40<td>6<td>2<td>3<td>135<td>132
<tr><td>30<td>shops and offices <td>temperate, subtropical<td>OUTER_SUBURB, CENTRE<td>SIZE_1x1<td>1973<td>none<td>180<td>64<td>8  <td>3<td>3<td>180<td>155
<tr><td>31<td>theatre<td>temperate<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1930<td>none<td>35<td>23<td>8<td>2<td>2<td>230 <td>220
<tr><td>32<td>stadium (modern style, N part)<td>temperate, sub-arctic, subtropical<td>EDGE ... INNER_SUBURB<td>SIZE_2x2<td>1958<td>none <td>65<td>5<td>4<td>0<td>0<td>300<td>250
<tr><td>33 <td>stadium (modern style, E part) <td><td><td>N/A<td>1958<td>none<td>0<td>5<td>4<td>0 <td>0<td>300<td>250
<tr><td>34<td>stadium (modern style, W part)<td><td><td>N/A<td>1958 <td>none<td>0<td>5<td>4<td>0<td>0<td>300<td>250
<tr><td>35<td>stadium (modern style, S part)<td><td><td>N/A<td>1958<td>none<td>0<td>5<td>4 <td>0<td>0<td>300<td>250
<tr><td>36<td>offices ('vertical tube' style)<td>temperate, sub-arctic, subtropical<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>2000<td>none<td>140<td>65<td>8<td>3<td>2<td>250 <td>170
<tr><td>37<td>houses<td>sub-arctic<td>EDGE, OUTSKIRT<td>SIZE_1x1<td>1930<td>1960 <td>15<td>6<td>3<td>1<td>-1<td>75<td>70
<tr><td>38 <td>houses <td>snow<td>EDGE, OUTSKIRT<td>SIZE_1x1<td>1930<td>1960<td>15<td>6<td>3 <td>1<td>-1<td>75<td>70
<tr><td>39<td>cinema<td>temperate<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1945<td>none<td>35<td>23<td>8<td>2<td>2<td>230 <td>210
<tr><td>40<td>shopping mall (N part)<td>temperate<td>OUTSKIRT ... CENTRE<td>SIZE_2x2<td>1983<td>none <td>180<td>5<td>8<td>2<td>3<td>300<td>250
<tr><td>41  <td>shopping mall (E part) <td><td><td>N/A<td>1983<td>none<td>0<td>5<td>8<td>2 <td>3<td>300<td>250
<tr><td>42<td>shopping mall (W part)<td><td><td>N/A<td>1983<td>none<td>0<td>5<td>8<td>2<td>3<td>300<td>250
<tr><td>43<td>shopping mall (S part)<td><td><td>N/A<td>1983<td>none<td>0<td>5<td>8 <td>2<td>3<td>300<td>250
<tr><td>44<td>flats<td>sub-arctic<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>80<td>20<td>5<td>2<td>-2<td>90<td>100
<tr><td>45<td>flats<td>snow<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none <td>80<td>20<td>5<td>2<td>-2<td>90<td>100
<tr><td>46 <td>houses <td>sub-arctic<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>16<td>6<td>3<td>1<td>-2<td>70<td>70
<tr><td>47<td>houses<td>snow<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>16<td>6<td>3<td>1<td>-2<td>70 <td>70
<tr><td>48<td>houses<td>sub-arctic<td>EDGE ... OUTER_SUBURB<td>SIZE_1x1<td>1930<td>1963 <td>14<td>6<td>3<td>1<td>-2<td>70<td>80
<tr><td>49 <td>houses <td>snow<td>EDGE ... OUTER_SUBURB<td>SIZE_1x1<td>1930<td>1963<td>14<td>6<td>3 <td>1<td>-2<td>70<td>80
<tr><td>50<td>tall office block<td>sub-arctic, subtropical<td>INNER_OUTSKIRT, CENTRE<td>SIZE_1x1<td>1966<td>none<td>135<td>60<td>8<td>3<td>4<td>120<td>150
<tr><td>51<td>tall office block<td>snow<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1966<td>none <td>135<td>60<td>8<td>3<td>4<td>120<td>150
<tr><td>52 <td>tall office block <td>sub-arctic<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1970<td>none<td>170<td>70<td>9 <td>3<td>4<td>130<td>170
<tr><td>53<td>tall office block<td>snow<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1970<td>none<td>170<td>70<td>9<td>3<td>4<td>130 <td>170
<tr><td>54<td>tall office block<td>sub-arctic, subtropical<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1974<td>none <td>210<td>80<td>10<td>3<td>5<td>140<td>200
<tr><td>55 <td>tall office block <td>snow<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1974<td>none<td>210<td>80<td>10 <td>3<td>5<td>140<td>200
<tr><td>56<td>houses<td>sub-arctic<td>EDGE<td>SIZE_1x1<td>1930<td>none<td>10<td>5<td>2<td>1<td>-1<td>60<td>60
<tr><td>57<td>houses<td>snow<td>EDGE<td>SIZE_1x1<td>1930<td>none <td>10<td>5<td>2<td>1<td>-1<td>60<td>60
<tr><td>58 <td>shops and offices <td>sub-arctic<td>OUTSKIRT ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>25<td>20<td>3 <td>1<td>-1<td>80<td>100
<tr><td>59<td>shops and offices<td>snow<td>OUTSKIRT ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>25<td>20<td>3<td>1<td>-1<td>80 <td>100
<tr><td>60<td>church<td>sub-arctic<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none <td>6<td>2<td>2<td>0<td>0<td>230<td>85
<tr><td>61  <td>church <td>snow<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>6<td>2<td>2<td>0<td>0<td>230<td>85
<tr><td>62<td>houses<td>sub-arctic<td>EDGE ... OUTER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>17<td>7<td>3<td>1<td>-1<td>80<td>80
<tr><td>63<td>houses<td>snow<td>EDGE ... OUTER_SUBURB<td>SIZE_1x1<td>1930<td>none <td>17<td>7<td>3<td>1<td>-1<td>80<td>80
<tr><td>64 <td>shops and offices <td>sub-arctic<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1960<td>90<td>45<td>6 <td>2<td>3<td>110<td>140
<tr><td>65<td>shops and offices<td>snow<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>1960<td>90<td>45<td>6<td>2<td>3<td>110 <td>140
<tr><td>66<td>hotel (N part)<td>sub-arctic<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x2<td>1972<td>none <td>140<td>25<td>6<td>1<td>-3<td>160<td>160
<tr><td>67 <td>hotel (E part) <td><td><td>N/A<td>1972<td>none<td>0<td>25<td>6<td>1 <td>2<td>160<td>160
<tr><td>68<td>hotel (N part)<td>snow<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x2<td>1972<td>none<td>140<td>25<td>6<td>1<td>-3<td>160<td>160
<tr><td>69<td>hotel (E part)<td><td><td>N/A<td>1972<td>none<td>0<td>25<td>6<td>1<td>2<td>160<td>160
<tr><td>70<td>shops and offices<td>sub-arctic, subtropical <td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1963<td>none<td>105<td>50<td>7<td>2<td>3 <td>105<td>130
<tr><td>71<td>shops and offices<td>snow<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1963 <td>none<td>105<td>50<td>7<td>2<td>3<td>105<td>130
<tr><td>72<td>tall office block<td>sub-arctic<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1978<td>none<td>190<td>75 <td>9<td>3<td>4<td>135<td>190
<tr><td>73<td>tall office block<td>snow<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1978<td>none<td>190<td>75<td>9<td>3<td>4<td>135<td>190
<tr><td>74<td>tall office block (N part)<td>sub-arctic<td>OUTER_SUBURB ... CENTRE<td>SIZE_2x1<td>1967<td>none<td>250<td>60<td>7<td>2<td>2<td>200<td>140
<tr><td>75<td>tall office block (W part)<td><td><td>N/A<td>1967<td>none<td>0<td>60<td>7 <td>2<td>2<td>200<td>140
<tr><td>76<td>tall office block (N part)<td>snow<td>OUTER_SUBURB ... CENTRE<td>SIZE_2x1<td>1967<td>none<td>250<td>60<td>7<td>2<td>2<td>200 <td>140 
<tr><td>77<td>tall office block (W part)<td><td><td>N/A<td>1967<td>none<td>0 <td>60<td>7<td>2<td>2<td>200<td>140
<tr><td>78<td>houses (with a tree in a corner)<td>subtropical<td>OUTSKIRT ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>16<td>6<td>3<td>1<td>-2<td>80<td>80
<tr><td>79<td>houses<td>subtropical<td>OUTSKIRT ... CENTRE<td>SIZE_1x1 <td>1930<td>none<td>16<td>6<td>3<td>1<td>-2<td>80<td>80
<tr><td>80<td>houses<td>subtropical<td>OUTSKIRT ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>16<td>5<td>3<td>1<td>-2<td>80<td>80
<tr><td>81<td>houses (suburb-type) <td>subtropical<td>EDGE<td>SIZE_1x1<td>1930<td>none<td>7<td>4<td>3<td>1<td>-1<td>30<td>30
<tr><td>82<td>flats<td>subtropical<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>45<td>15<td>6<td>2<td>1<td>95<td>130
<tr><td>83<td>church<td>subtropical<td>OUTSKIRT ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>8 <td>3<td>2<td>0<td>0<td>200<td>90
<tr><td>84<td>houses (with two trees in front)<td>subtropical<td>OUTSKIRT ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>18<td>7<td>3<td>1 <td>-2<td>80<td>80
<tr><td>85<td>flats<td>subtropical<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1 <td>1973<td>none<td>90<td>24<td>6<td>2<td>1<td>95<td>110
<tr><td>86<td>flats<td>subtropical<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1962<td>none<td>120<td>25<td>6<td>2<td>1<td>95<td>120
<tr><td>87<td>tall office block (N part) <td>subtropical<td>INNER_SUBURB, CENTRE<td>SIZE_2x1<td>1984<td>none<td>250<td>80<td>8<td>3<td>4<td>140<td>190
<tr><td>88<td>tall office block (W part)<td>subtropical<td><td>N/A<td>1984 <td>none<td>0<td>80<td>8<td>3<td>4<td>140<td>190
<tr><td>89<td>flats<td>subtropical<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>80<td>23<td>6<td>2<td>1<td>95<td>110
<tr><td>90<td>tall office block<td>subtropical<td>INNER_SUBURB, CENTRE<td>SIZE_1x1<td>1993<td>none<td>180<td>90<td>8<td>3<td>4<td>150<td>180
<tr><td>91<td>church<td>toyland<td>EDGE ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>8<td>3<td>2<td>0<td>0<td>200<td>90
<tr><td>92<td>toyland houses<td>toyland<td>EDGE ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>18<td>5 <td>6<td>2<td>2<td>90<td>90
<tr><td>93<td>toyland houses<td>toyland <td>EDGE, OUTSKIRT<td>SIZE_1x1<td>1930<td>none<td>7<td>3<td>3<td>1<td>1<td>50<td>70
<tr><td>94<td>toyland houses<td>toyland<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>15<td>6<td>3<td>1<td>2<td>75<td>80
<tr><td>95<td>toyland houses<td>toyland<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>17<td>6 <td>3<td>1<td>2<td>75<td>80
<tr><td>96<td>toyland houses<td>toyland <td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>19<td>6<td>3<td>1<td>2 <td>75<td>80
<tr><td>97<td>toyland houses<td>toyland<td>EDGE ... INNER_SUBURB<td>SIZE_1x1<td>1930<td>none<td>21<td>6<td>3<td>1<td>2<td>75<td>80
<tr><td>98<td>tall office block<td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>75<td>20 <td>8<td>4<td>2<td>130<td>160
<tr><td>99<td>shoe house (N part)<td>toyland <td>EDGE ... CENTRE<td>SIZE_1x2<td>1930<td>none<td>35<td>9<td>4<td>1<td>2 <td>80<td>90
<tr><td>100<td>shoe house (E part)<td><td><td>N/A<td>1930<td>none <td>0<td>0<td>4<td>1<td>2<td>80<td>90
<tr><td>101 <td>tall office block <td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>85<td>18<td>8 <td>4<td>2<td>130<td>150
<tr><td>102<td>igloo<td>toyland<td>EDGE<td>SIZE_1x1<td>1930<td>none<td>11<td>3<td>3<td>1<td>1<td>45  <td>60
<tr><td>103<td>tepees<td>toyland<td>EDGE<td>SIZE_1x1<td>1930<td>none <td>10<td>3<td>3<td>1<td>1<td>45<td>60    
<tr><td>104<td>shops and offices <td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>67<td>22<td>8 <td>4<td>-4<td>130<td>140
<tr><td>105<td>shops and offices<td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>86<td>23<td>8<td>4<td>-4<td>130 <td>145
<tr><td>106<td>tall office block<td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>95<td>28<td>8<td>4<td>2<td>130<td>165
<tr><td>107 <td>statue <td>toyland<td>OUTER_SUBURB ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>30<td>10<td>4 <td>1<td>2<td>70<td>90
<tr><td>108<td>teapot-house<td>toyland<td>EDGE ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>25<td>8<td>3<td>1<td>2<td>65<td>75
<tr><td>109<td>piggy-bank<td>toyland<td>EDGE ... CENTRE<td>SIZE_1x1<td>1930<td>none<td>18<td>7<td>3<td>2<td>-4<td>95<td>85
</table>


<h2><a name="refs-town-zones">List town zones</a></h2>
<table class="t">
<tr><td>TOWNZONE_EDGE</td></tr>
<tr><td>TOWNZONE_OUTSKIRT</td></tr>
<tr><td>TOWNZONE_OUTER_SUBURB</td></tr>
<tr><td>TOWNZONE_INNER_SUBURB</td></tr>
<tr><td>TOWNZONE_CENTRE</td></tr>
</table>

<h2><a name="refs-tile-classes">List of tile classes</a></h2>
<table class="t">
<tr><td>TILE_CLASS_GROUND</td><td>Clear ground and farmland</td></tr>
<tr><td>TILE_CLASS_RAIL</td><td>Rail and rail depots</td></tr>
<tr><td>TILE_CLASS_ROAD</td><td>Road, road depots and level crossings</td></tr>
<tr><td>TILE_CLASS_HOUSE</td><td>Houses</td></tr>
<tr><td>TILE_CLASS_TREES</td><td>Clear tile with trees</td></tr>
<tr><td>TILE_CLASS_STATION</td><td>Station, waypoint, station part of oilrig</td></tr>
<tr><td>TILE_CLASS_WATER</td><td>Sea, canal, ship depot</td></tr>
<tr><td>TILE_CLASS_INDUSTRY</td><td>Industry tile</td></tr>
<tr><td>TILE_CLASS_TUNNEL_BRIDGE</td><td>Tunnel entrance or bridge ramp</td></tr>
<tr><td>TILE_CLASS_OBJECTS</td><td>Objects</td></tr>
</table>

</body>
</html>
